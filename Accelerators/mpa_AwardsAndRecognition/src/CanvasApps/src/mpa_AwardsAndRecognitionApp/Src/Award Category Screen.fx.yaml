"'Award Category Screen' As screen":
    Fill: =ColorValue(varThemeColors.background)
    OnVisible: |
        =//Create collection containing one item from the Recognition Categories to use as a placeholder if combo box selection is blank as to avoid an empty/blank gallery. Gallery will display nudge text regardless of what the collection value is
        ClearCollect(
            colBlankCategory,
            First(
                Filter(
                    'Recognition Categories',
                    'Recognition Categories (Views)'.'Active Individual Recognition Categories'
                )
            )
        )

    conContent_AwardCategory As groupContainer.verticalAutoLayoutContainer:
        Fill: =ColorValue(varThemeColors.background)
        Height: =Parent.Height - compHeader_AwardCategory.Height
        LayoutAlignItems: =LayoutAlignItems.Stretch
        LayoutDirection: =LayoutDirection.Vertical
        LayoutMode: =LayoutMode.Auto
        LayoutOverflowY: =LayoutOverflow.Scroll
        PaddingBottom: =20
        PaddingLeft: |-
            =Switch(App.ActiveScreen.Size,
            5, (Parent.Width - 1450)/2,
            4, 75,
            3, 50,
            2, 25,
            1, 10
            )
        PaddingRight: =Self.PaddingLeft
        Width: =Parent.Width
        Y: =compHeader_AwardCategory.Height + compHeader_AwardCategory.Y
        ZIndex: =1

        conPrompt_AwardCategory As groupContainer.verticalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            FillPortions: =0
            Height: =lblPromptTitle_AwardCategory.Height+ cmbCategoryChoice_AwardCategory.Height+ 80//+lblPrompt_AwardCategory.Height
            LayoutDirection: =LayoutDirection.Vertical
            LayoutGap: =20
            LayoutMinHeight: =112
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            PaddingLeft: =30
            PaddingTop: =20
            ZIndex: =2

            lblPromptTitle_AwardCategory As label:
                BorderColor: =RGBA(0, 0, 0, 0)
                BorderStyle: =BorderStyle.None
                BorderThickness: =2
                Color: =ColorValue(varThemeColors.text)
                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                FocusedBorderColor: =ColorValue(varThemeColors.primary)
                FocusedBorderThickness: =4
                Font: =varThemeFont.H1.face
                FontWeight: =varThemeFont.H1.weight
                Height: =Self.Size*2
                Italic: =varThemeFont.H1.italic
                LayoutMinHeight: =70
                LayoutMinWidth: =560
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingTop: =0
                Role: =TextRole.Heading1
                Size: =varThemeFont.H1.size
                Text: |-
                    =// Define a variable named "Text" with the value "{value}"
                    With(
                        {Text: "Choose a Category"},
                        // Check if a localized text exists for "Text" in the user's preferred language
                        If(
                            // If the localized text is blank, return the default text
                            IsBlank(
                                LookUp(
                                    colUserLocalizedStrings,
                                    'English Value' = Text 
                                ).'Localized Value'
                            ),
                            Text,
                            // If a localized text is found, return that instead of the default text
                            LookUp(
                                colUserLocalizedStrings,
                                'English Value' = Text 
                            ).'Localized Value'
                        )
                    )
                VerticalAlign: =VerticalAlign.Bottom
                Width: =Parent.Width - 80
                X: =40
                ZIndex: =1

            cmbCategoryChoice_AwardCategory As combobox:
                AccessibleLabel: |-
                    =// Define a variable named "Text" with the value "{value}"
                    With(
                        {Text: "Select here a Recognition Category"},
                        // Check if a localized text exists for "Text" in the user's preferred language
                        If(
                            // If the localized text is blank, return the default text
                            IsBlank(
                                LookUp(
                                    colUserLocalizedStrings,
                                    'English Value' = Text 
                                ).'Localized Value'
                            ),
                            Text,
                            // If a localized text is found, return that instead of the default text
                            LookUp(
                                colUserLocalizedStrings,
                                'English Value' = Text 
                            ).'Localized Value'
                        )
                    )
                BorderColor: =ColorValue(varThemeColors.disabledText)
                BorderThickness: =1
                ChevronBackground: =ColorValue(varThemeColors.backgroundFill)
                ChevronDisabledBackground: =ColorValue(varThemeColors.backgroundFillDisabled)
                ChevronDisabledFill: |
                    =ColorValue(varThemeColors.text)
                ChevronFill: =ColorValue(varThemeColors.text)
                ChevronHoverBackground: =ColorValue(varThemeColors.secondaryGray)
                ChevronHoverFill: |
                    =ColorValue(varThemeColors.text)
                Color: =ColorValue(varThemeColors.text)
                DefaultSelectedItems: =
                DisabledBorderColor: =ColorValue(varThemeColors.disabledText)
                DisabledColor: =ColorValue(varThemeColors.text)
                DisabledFill: =ColorValue(varThemeColors.backgroundFillDisabled)
                DisplayFields: =["Value"]
                Fill: =ColorValue(varThemeColors.backgroundFill)
                FocusedBorderColor: =ColorValue(varThemeColors.info)
                Font: =varThemeFont.B1.face
                FontWeight: =varThemeFont.B1.weight
                HoverBorderColor: =ColorValue(varThemeColors.disabledText)
                HoverColor: =ColorValue(varThemeColors.text)
                HoverFill: =ColorValue(varThemeColors.secondaryGray)
                InputTextPlaceholder: |-
                    =With(
                        {Text: "Select here"},
                        If(
                            IsBlank(
                                LookUp(
                                    colUserLocalizedStrings,
                                    'English Value' = Text 
                                ).'Localized Value'
                            ),
                            Text,
                            LookUp(
                                colUserLocalizedStrings,
                                'English Value' = Text 
                            ).'Localized Value'
                        )
                    )
                Italic: =varThemeFont.B1.italic
                Items: = If(Text(First(colNewSubmission).Scope) = "Team", Distinct(Filter('Recognition Categories', 'Recognition Categories (Views)'.'Active Team Recognition Categories'),Name ), Distinct(Filter('Recognition Categories', 'Recognition Categories (Views)'.'Active Individual Recognition Categories'),Name ))
                LayoutMinHeight: =70
                LayoutMinWidth: =575
                NoSelectionText: |-
                    =With(
                        {Text: "Select here"},
                        If(
                            IsBlank(
                                LookUp(
                                    colUserLocalizedStrings,
                                    'English Value' = Text 
                                ).'Localized Value'
                            ),
                            Text,
                            LookUp(
                                colUserLocalizedStrings,
                                'English Value' = Text 
                            ).'Localized Value'
                        )
                    )
                OnChange: =
                PaddingLeft: =12
                PaddingRight: =10
                PressedBorderColor: =ColorValue(varThemeColors.disabledText)
                PressedColor: =ColorValue(varThemeColors.altText)
                PressedFill: =ColorValue(varThemeColors.backgroundFill)
                SearchFields: =["Value"]
                SearchItems: =Search( If(Text(First(colNewSubmission).Scope) = "Team", Distinct(Filter('Recognition Categories', 'Recognition Categories (Views)'.'Active Team Recognition Categories'),Name ), Distinct(Filter('Recognition Categories', 'Recognition Categories (Views)'.'Active Individual Recognition Categories'),Name )),cmbCategoryChoice_AwardCategory.SearchText,"Value")
                SelectionColor: =ColorValue(varThemeColors.altText)
                SelectionFill: =ColorValue(varThemeColors.tertiary)
                SelectionTagColor: =ColorValue(varThemeColors.altText)
                SelectionTagFill: =ColorValue(varThemeColors.tertiary)
                SelectMultiple: =false
                Size: =varThemeFont.B1.size
                Width: =Parent.Width/1.3
                X: =20
                Y: =30
                ZIndex: =3

        "galAwardCategoryDescription_AwardCategory As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver4.0'":
            AccessibleLabel: |-
                =// Define a variable named "Text" with the value "{value}"
                With(
                    {Text: "Recognition Category Gallery"},
                    // Check if a localized text exists for "Text" in the user's preferred language
                    If(
                        // If the localized text is blank, return the default text
                        IsBlank(
                            LookUp(
                                colUserLocalizedStrings,
                                'English Value' = Text 
                            ).'Localized Value'
                        ),
                        Text,
                        // If a localized text is found, return that instead of the default text
                        LookUp(
                            colUserLocalizedStrings,
                            'English Value' = Text 
                        ).'Localized Value'
                    )
                )
            AlignInContainer: =AlignInContainer.SetByContainer
            ContentLanguage: ="Gallery Item"
            Fill: =Color.Transparent
            FillPortions: =0
            FocusedBorderColor: =ColorValue(varThemeColors.info)
            Height: |-
                =Parent.Height*.75
                //imgAwardCategory_AwardCategory.Height+lblTitle_AwardCategory.Height+lblSubtitle_AwardCategory.Height+btnSelectRecognition_AwardCategory.Height +Container1.Height+175
            Items: |+
                =//If the combo box does is blank, using colBlankCategory as a placeholder one N table, display default nudge text, else display category details from selected choice
                If(IsBlank(cmbCategoryChoice_AwardCategory.Selected.Value)=true,colBlankCategory,Filter('Recognition Categories', Name = cmbCategoryChoice_AwardCategory.Selected.Value))
                
            Layout: =Layout.Vertical
            LayoutMinHeight: =150
            LayoutMinWidth: =320
            TabIndex: =0
            TemplateFill: =ColorValue(varThemeColors.backgroundFill)
            TemplatePadding: =0
            TemplateSize: =Self.Height - 40
            Width: =620
            ZIndex: =3

            conGalleryContent_AwardCategory As groupContainer.verticalAutoLayoutContainer:
                Height: =774.5
                LayoutAlignItems: =LayoutAlignItems.Center
                LayoutDirection: =LayoutDirection.Vertical
                LayoutGap: =20
                LayoutMode: =LayoutMode.Auto
                LayoutOverflowY: =LayoutOverflow.Scroll
                PaddingBottom: =20
                PaddingTop: =50
                Width: =Parent.Width
                ZIndex: =7

                imgAwardCategory_AwardCategory As image:
                    AccessibleLabel: =ThisItem.Name
                    Height: =Self.Width
                    Image: =ThisItem.'Recognition Active Image'
                    LayoutMinHeight: =320
                    LayoutMinWidth: =320
                    OnSelect: =
                    RadiusBottomLeft: =25
                    RadiusBottomRight: =25
                    RadiusTopLeft: =25
                    RadiusTopRight: =25
                    Visible: =If(IsBlank(ThisItem.'Recognition Active Image'),false,true)
                    Width: =150
                    X: =20
                    Y: =18
                    ZIndex: =1

                lblTitle_AwardCategory As label:
                    Align: =Align.Center
                    AutoHeight: =true
                    Color: =ColorValue(varThemeColors.text)
                    Font: =varThemeFont.H3.face
                    FontWeight: =varThemeFont.H3.weight
                    Height: =Self.Size * 1.8
                    Italic: =varThemeFont.H3.italic
                    LayoutMinHeight: =70
                    LayoutMinWidth: =560
                    OnSelect: =
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =varThemeFont.H3.size
                    Text: |-
                        =// Define a variable named "Text" with the value "{value}"
                        With(
                            {Text: If(IsBlank(cmbCategoryChoice_AwardCategory.Selected.Value)=true,"Make a selection above",ThisItem.Name)},
                            // Check if a localized text exists for "Text" in the user's preferred language
                            If(
                                // If the localized text is blank, return the default text
                                IsBlank(
                                    LookUp(
                                        colUserLocalizedStrings,
                                        'English Value' = Text 
                                    ).'Localized Value'
                                ),
                                Text,
                                // If a localized text is found, return that instead of the default text
                                LookUp(
                                    colUserLocalizedStrings,
                                    'English Value' = Text 
                                ).'Localized Value'
                            )
                        ) 
                    VerticalAlign: =VerticalAlign.Top
                    Width: =Parent.Width //- imgAwardCategory_AwardCategory.Width - 104
                    X: =(Parent.Width/2) - (Self.Width/2)
                    Y: =imgAwardCategory_AwardCategory.Y + imgAwardCategory_AwardCategory.Height + 10
                    ZIndex: =2

                lblSubtitle_AwardCategory As label:
                    Align: =Align.Center
                    AutoHeight: =true
                    Color: =ColorValue(varThemeColors.text)
                    Font: =varThemeFont.B1.face
                    FontWeight: =FontWeight.Lighter
                    Height: =Self.Size * 1.8
                    Italic: =varThemeFont.B1.italic
                    LayoutMinHeight: =70
                    LayoutMinWidth: =560
                    OnSelect: =
                    Overflow: =Overflow.Scroll
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =varThemeFont.B2.size
                    Text: |-
                        =// Define a variable named "Text" with the value "{value}"
                        With(
                            {Text: If(IsBlank(cmbCategoryChoice_AwardCategory.Selected.Value)=true,"Choose the company value that youâ€™d like to recognize someone for.",ThisItem.Description)},
                            // Check if a localized text exists for "Text" in the user's preferred language
                            If(
                                // If the localized text is blank, return the default text
                                IsBlank(
                                    LookUp(
                                        colUserLocalizedStrings,
                                        'English Value' = Text 
                                    ).'Localized Value'
                                ),
                                Text,
                                // If a localized text is found, return that instead of the default text
                                LookUp(
                                    colUserLocalizedStrings,
                                    'English Value' = Text 
                                ).'Localized Value'
                            )
                        ) 
                    VerticalAlign: =VerticalAlign.Top
                    Width: =Parent.Width - 80
                    X: =(Parent.Width/2) - (Self.Width/2)
                    Y: =lblTitle_AwardCategory.Y + lblTitle_AwardCategory.Height + 4
                    ZIndex: =3

                conButtonContainer_AwardCategory As groupContainer.horizontalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =75
                    LayoutGap: =10
                    LayoutJustifyContent: =LayoutJustifyContent.Center
                    LayoutMinHeight: =112
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingTop: =5
                    Visible: =If(IsBlank(cmbCategoryChoice_AwardCategory.Selected.Value)=true,false,true)
                    ZIndex: =6

                    btnBack_AwardCategory As button:
                        BorderColor: =ColorValue(varThemeColors.primary)
                        BorderThickness: =1
                        Color: =ColorValue(varThemeColors.text)
                        DisabledBorderColor: =ColorValue(varThemeColors.backgroundFillDisabled)
                        DisabledColor: =ColorValue(varThemeColors.disabledText)
                        DisabledFill: =ColorValue(varThemeColors.backgroundFillDisabled)
                        Fill: =ColorValue(varThemeColors.backgroundFill)
                        FocusedBorderColor: =ColorValue(varThemeColors.info)
                        Font: =varThemeFont.CTA.face
                        FontWeight: =FontWeight.Normal
                        HoverBorderColor: =ColorValue(varThemeColors.primary)
                        HoverColor: =ColorValue(varThemeColors.altText)
                        HoverFill: =ColorValue(varThemeColors.tertiary)
                        Italic: =varThemeFont.CTA.italic
                        LayoutMinHeight: =70
                        LayoutMinWidth: =280
                        OnSelect: =Back()
                        PressedBorderColor: =ColorValue(varThemeColors.primary)
                        PressedColor: =ColorValue(varThemeColors.altText)
                        PressedFill: =ColorValue(varThemeColors.primary)
                        RadiusBottomLeft: =4
                        RadiusBottomRight: =4
                        RadiusTopLeft: =4
                        RadiusTopRight: =4
                        Size: =varThemeFont.CTA.size
                        Text: |-
                            =With(
                                {Text: "Back"},
                                If(
                                    IsBlank(
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text 
                                        ).'Localized Value'
                                    ),
                                    Text,
                                    LookUp(
                                        colUserLocalizedStrings,
                                        'English Value' = Text 
                                    ).'Localized Value'
                                )
                            )
                        Width: =Parent.Width/3.3
                        X: =199
                        Y: =
                        ZIndex: =1

                    btnContinue_AwardCategory As button:
                        BorderColor: =ColorValue(varThemeColors.primary)
                        BorderThickness: =1
                        Color: =ColorValue(varThemeColors.altText)
                        DisabledBorderColor: =ColorValue(varThemeColors.disabledText)
                        DisabledColor: =ColorValue(varThemeColors.text)
                        DisabledFill: =ColorValue(varThemeColors.backgroundFillDisabled)
                        Fill: =ColorValue(varThemeColors.primary)
                        FocusedBorderColor: =ColorValue(varThemeColors.info)
                        Font: =varThemeFont.CTA.face
                        FontWeight: =FontWeight.Normal
                        HoverBorderColor: =ColorValue(varThemeColors.primary)
                        HoverColor: =ColorValue(varThemeColors.altText)
                        HoverFill: =ColorValue(varThemeColors.tertiary)
                        Italic: =varThemeFont.CTA.italic
                        LayoutMinHeight: =70
                        LayoutMinWidth: =280
                        OnSelect: |
                            =//Select recognition
                            Set(
                                varSelectedCategory,
                                ThisItem
                            );
                            UpdateIf(
                                colNewSubmission,
                                Nominee = Nominee,
                                {RecognitionCategory: galAwardCategoryDescription_AwardCategory.Selected}
                            );
                            //Navigate to Message Screen
                            Navigate('Message Screen');
                        PressedBorderColor: =ColorValue(varThemeColors.primary)
                        PressedColor: =ColorValue(varThemeColors.altText)
                        PressedFill: =ColorValue(varThemeColors.primary)
                        RadiusBottomLeft: =4
                        RadiusBottomRight: =4
                        RadiusTopLeft: =4
                        RadiusTopRight: =4
                        Size: =varThemeFont.CTA.size
                        Text: |-
                            =With(
                                {Text: "Continue"},
                                If(
                                    IsBlank(
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text 
                                        ).'Localized Value'
                                    ),
                                    Text,
                                    LookUp(
                                        colUserLocalizedStrings,
                                        'English Value' = Text 
                                    ).'Localized Value'
                                )
                            )
                        Width: =200
                        X: =16
                        Y: =310
                        ZIndex: =2

    compHeader_AwardCategory As compHeader:
        HeaderComponentWidth: =Parent.Width
        Height: =compHeader_AwardCategory.HeaderComponentHeight
        Width: =compHeader_AwardCategory.HeaderComponentWidth
        ZIndex: =2

