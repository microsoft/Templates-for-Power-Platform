"'Vendor Details Screen' As screen":
    Fill: =varThemeColors.background
    LoadingSpinner: =LoadingSpinner.Data
    LoadingSpinnerColor: =varThemeColors.primary
    OnHidden: =
    OnVisible: |
        =//Logic is only called the first time application loads. Allows for faster app launch time.
        If(
            Or(
                IsBlank(varLoadAppFirstTime),
                varLoadAppFirstTime
            ),
            //Variable drives whether the left navigation menu component is expanded or not across screens
            Set(
                varExpandMenu,
                App.ActiveScreen.Size >= ScreenSize.Large
            );
            Set(
                varISOUserLanguageCode,//Get user's language and map to existing choice values that are supported by the 'SAP Localizations' entity which can be customized to support more languages
                Switch(
                    Left(
                        Language(),
                        2
                    ),
                    "ar",
                    'ISO Language Code'.ar,
                    "de",
                    'ISO Language Code'.de,
                    "en",
                    'ISO Language Code'.en,
                    "es",
                    'ISO Language Code'.es,
                    "fr",
                    'ISO Language Code'.fr,
                    "he",
                    'ISO Language Code'.he,
                    "it",
                    'ISO Language Code'.it,
                    "ja",
                    'ISO Language Code'.ja,
                    "pt",
                    'ISO Language Code'.pt,
                    "zh",
                    'ISO Language Code'.zh,
                    'ISO Language Code'.en
                )
            );
            Concurrent(
                ClearCollect(
                    colUserLocalizedStrings,//Collection used to display localized value according to user's language value
                    Filter(
                        'SAP Localizations',
                        Language = varISOUserLanguageCode,
                        'SAP Localizations (Views)'.'Active SAP Localizations'
                    )
                ),
                Set(
                    varRequisitionAccess,//Variable used within Vendor Requisions Screen to drive whether use has access to drill into requistion details
                    LookUp(
                        'SAP Menu Items',
                        Capability = 'Capability (SAP Menu Items)'.Requisitions && Status = 'Status (SAP Menu Items)'.Active
                    )
                ),
                Set(
                    varPurchaseOrderAccess,//Variable used within Vendor Purchase Orders Screen to drive whether use has access to drill into requistion details
                    LookUp(
                        'SAP Menu Items',
                        Capability = 'Capability (SAP Menu Items)'.'Purchase Orders' && Status = 'Status (SAP Menu Items)'.Active
                    )
                );
                ,
                //Get user's principal name from Office graph and store in variable
                Set(
                    varUserPrincipal,
                    Office365Users.MyProfileV2().userPrincipalName
                );
                //Lookup system user record in Dataverse for the user's principal name and store. Variable will be used when patching search histories
        Set(
                    varSystemUserID,
                    LookUp(
                        Users,
                        'User Name' = varUserPrincipal
                    ).User
                )
            );
            If(
                !IsBlank(Param("vendor")),//Allows for another app to launch this app with a specific vendor record in focus
                Set(
                    varSelectedVendorID,//Global variable used to invoke ReadVendor power automate call to query specific vendor from SAP
                    Param("vendor")
                );
            );
            Set(
                varLoadAppFirstTime,//All app first time loading logic is complete so set variable to false so not to execute again when navigating to screen
                false
            );
            
        );
        //End app first start logic
        //Collection that tracks cross screen navigation thread and allows to back out in reverse sequence, remove from "thread" if navigating back to this screen
        RemoveIf(
            colAppNavigationThreads,
            Screen = App.ActiveScreen
        );
        //Reset controls, toggle reset select row variables as a work around to not being able to reset controls within galleries
        Set(
            varResetSelectPurchaseOrganizationRows,
            true
        );
        Set(
            varResetSelectPurchaseOrganizationRows,
            false
        );
        Reset(chbVendorDetailsPurchasingOrgsSelectAll);
        Set(
            varResetSelectCompanyCodeRows,
            true
        );
        Set(
            varResetSelectCompanyCodeRows,
            false
        );
        Reset(chbVendorDetailsCompanyCodesSelectAll);
        Set(
            varResetSelectPhoneRows,
            true
        );
        Set(
            varResetSelectPhoneRows,
            false
        );
        Reset(chbVendorDetailsPhonesSelectAll);
        Set(
            varResetSelectEmailRows,
            true
        );
        Set(
            varResetSelectEmailRows,
            false
        );
        //Reset controls
        Reset(txtVendorDetailsPurchasingOrgCommandBarFilter);
        Reset(txtVendorDetailsEmailsCommandBarFilter);
        Reset(txtVendorDetailsPhonesCommandBarFilter);
        Reset(txtVendorDetailsCompanyCodesCommandBarFilter);
        //If returning from vendor search screen, invoke logic to get all vendor details needed
        If(
            !IsBlank(varSelectedVendorID),
            Select(btnSearchExecuteVendorHiddenButton);
            
        );

    conVendorDetailsMain As groupContainer.verticalAutoLayoutContainer:
        Height: =App.Height-Self.Y
        LayoutAlignItems: =LayoutAlignItems.Stretch
        LayoutDirection: =LayoutDirection.Vertical
        LayoutMode: =LayoutMode.Auto
        LayoutOverflowX: =LayoutOverflow.Scroll
        PaddingBottom: =20
        Width: =App.Width-Self.X
        X: =cmpVendorDetailsLeftNavigation.Width
        Y: =cmpVendorDetailsHeader.Height
        ZIndex: =2

        conVendorDetailsMainCommandBar As CommandBar:
            Fill: =RGBA(255, 255, 255, 1)
            Height: =45
            LayoutMinHeight: =
            LayoutMinWidth: =conVendorDetailsData.LayoutMinWidth
            Width: =

        shpVendorDetailsMainDivider As rectangle:
            AccessibleLabel: |-
                =// Define a variable named "Text" with the value "{value}"
                With(
                    {
                        Text: "Divider"
                    },
                    If(
                        // If the localized text is blank, return the default text
                        IsBlank(
                            LookUp(
                                colUserLocalizedStrings,
                                'English Value' = Text
                            ).'Localized Value'
                        ),
                        Text,
                        // If a localized text is found, return that instead of the default text
                        LookUp(
                            colUserLocalizedStrings,
                            'English Value' = Text
                        ).'Localized Value'
                    )
                )
            Fill: =varThemeColors.secondaryGray
            Height: =1
            LayoutMinHeight: =
            LayoutMinWidth: =conVendorDetailsData.LayoutMinWidth
            Width: =
            ZIndex: =2

        lblVendorDetailsMainName As label:
            BorderColor: =RGBA(0, 0, 0, 0)
            BorderStyle: =BorderStyle.None
            BorderThickness: =2
            Color: =varThemeColors.text
            DisabledBorderColor: =RGBA(0, 0, 0, 0)
            Fill: =RGBA(255, 255, 255, 1)
            FocusedBorderColor: =varThemeColors.primary
            FocusedBorderThickness: =4
            Font: =Font.'Segoe UI'
            FontWeight: =FontWeight.Semibold
            Height: =37
            LayoutMinHeight: =
            LayoutMinWidth: =conVendorDetailsData.LayoutMinWidth
            Live: =Live.Assertive
            PaddingBottom: =15
            PaddingLeft: =32
            PaddingRight: =32
            PaddingTop: =22
            Role: =TextRole.Heading1
            Size: =14.5
            Text: |-
                =// Define a variable named "Text" with the value "{value}"
                If(
                    !varIsNew && !IsBlank(varVendorHeader),
                    varVendorHeader.FullName,
                    With(
                        {
                            Text: If(
                                varIsNew,
                                "New vendor",
                                "Vendor"
                            )
                        },
                        If(
                        // If the localized text is blank, return the default text
                            IsBlank(
                                LookUp(
                                    colUserLocalizedStrings,
                                    'English Value' = Text
                                ).'Localized Value'
                            ),
                            Text,
                        // If a localized text is found, return that instead of the default text
                            LookUp(
                                colUserLocalizedStrings,
                                'English Value' = Text
                            ).'Localized Value'
                        )
                    )
                )
            Width: =
            Wrap: =false
            ZIndex: =3

        comVendorDetailsTabs As ScreenTabs:
            LayoutMinHeight: =
            LayoutMinWidth: =conVendorDetailsData.LayoutMinWidth
            Width: =
            ZIndex: =4

        conVendorDetailsData As groupContainer.verticalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            Height: =
            LayoutAlignItems: =LayoutAlignItems.Stretch
            LayoutDirection: =LayoutDirection.Vertical
            LayoutGap: =20
            LayoutMinHeight: =
            LayoutMinWidth: |
                =Max(
                    conVendorDetailsPurchasingOrganizations.LayoutMinWidth,
                    conVendorDetailsCompanyCodes.LayoutMinWidth,
                    conVendorDetailsPhones.LayoutMinWidth,
                    conVendorDetailsEmails.LayoutMinWidth
                ) + Self.PaddingLeft + Self.PaddingRight
            LayoutMode: =LayoutMode.Auto
            LayoutOverflowY: =LayoutOverflow.Scroll
            PaddingLeft: =32
            PaddingRight: =32
            PaddingTop: =20
            Width: =
            ZIndex: =5

            lblVendorDetailsGeneralDetails As label:
                BorderColor: =RGBA(0, 0, 0, 0)
                BorderStyle: =BorderStyle.None
                BorderThickness: =2
                Color: =varThemeColors.text
                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                FocusedBorderColor: =varThemeColors.primary
                FocusedBorderThickness: =4
                Font: =Font.'Segoe UI'
                FontWeight: =FontWeight.Semibold
                Height: =34
                LayoutMinHeight: =
                LayoutMinWidth: =
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                Role: =TextRole.Heading2
                Size: =10.5
                Text: |-
                    =// Define a variable named "Text" with the value "{value}"
                    With(
                        {
                            Text: "General details"
                        },
                        If(
                            // If the localized text is blank, return the default text
                            IsBlank(
                                LookUp(
                                    colUserLocalizedStrings,
                                    'English Value' = Text
                                ).'Localized Value'
                            ),
                            Text,
                            // If a localized text is found, return that instead of the default text
                            LookUp(
                                colUserLocalizedStrings,
                                'English Value' = Text
                            ).'Localized Value'
                        )
                    )
                Width: =
                ZIndex: =1

            conVendorDetailsGeneralDetails As groupContainer.horizontalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                BorderColor: =RGBA(0, 0, 0, 0)
                BorderStyle: =BorderStyle.None
                FillPortions: =0
                Height: =64
                LayoutGap: =10
                LayoutMinHeight: =
                LayoutMinWidth: =
                LayoutMode: =LayoutMode.Auto
                LayoutWrap: =true
                Width: =
                ZIndex: =2

                conVendorDetailsName As groupContainer.manualLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =64
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    Width: |-
                        =Max(
                            244,
                            Len(txtVendorDetailsName.HintText) * 10
                        )
                    X: =40
                    ZIndex: =1

                    txtVendorDetailsName As text:
                        AccessibleLabel: |
                            =Self.HintText
                        BorderColor: |-
                            =If(
                                IsBlank(Self.Text),
                                varThemeColors.requiredRed,
                                varThemeColors.primaryGray
                            )
                        BorderThickness: =1
                        Clear: =true
                        Color: =varThemeColors.text
                        Default: |-
                            =//If processing new record, default blank, otherwise existing value from previously returned vendor header record
                            If(
                                varIsNew,
                                "",
                                varVendorHeader.VendorName
                            )
                        DisabledBorderColor: =varThemeColors.primaryGray
                        DisabledColor: =varThemeColors.disabledText
                        DisabledFill: =varThemeColors.backgroundFillDisabled
                        DisplayMode: |-
                            =Switch(
                                true,
                                Or(
                                    varIsNew,
                                    varIsEdit
                                ),
                                DisplayMode.Edit,
                                IsBlank(varVendorHeader),
                                DisplayMode.Disabled,
                                DisplayMode.View
                            )
                        Fill: =varThemeColors.backgroundFill
                        FocusedBorderThickness: =2
                        Font: =Font.'Segoe UI'
                        Height: =32
                        HintText: |-
                            =
                            // Define a variable named "Text" with the value "{value}"
                            With(
                                {Text: "Enter vendor name"},
                                // Check if a localized text exists for "Text" in the user's preferred language
                                If(
                                    // If the localized text is blank, return the default text
                                    IsBlank(
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    ),
                                    Text,
                                    // If a localized text is found, return that instead of the default text
                                    LookUp(
                                        colUserLocalizedStrings,
                                        'English Value' = Text
                                    ).'Localized Value'
                                )
                            )
                        HoverBorderColor: =Self.BorderColor
                        HoverColor: =Self.Color
                        HoverFill: =varThemeColors.backgroundFill
                        MaxLength: =70
                        OnChange: =
                        PaddingBottom: =6
                        PaddingLeft: =8
                        PaddingRight: =8
                        PaddingTop: =6
                        PressedBorderColor: =Self.BorderColor
                        PressedColor: =varThemeColors.text
                        PressedFill: =varThemeColors.backgroundFill
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Reset: =true
                        Size: =10.5
                        Tooltip: |-
                            =Coalesce(
                                Self.Text,
                                Self.HintText
                            )
                        Width: =lblVendorDetailsName.Width
                        X: =Self.FocusedBorderThickness
                        Y: =lblVendorDetailsName.Y+lblVendorDetailsName.Height
                        ZIndex: =2

                    lblVendorDetailsName As label:
                        BorderColor: =RGBA(0, 0, 0, 0)
                        BorderStyle: =BorderStyle.None
                        BorderThickness: =2
                        Color: =varThemeColors.text
                        DisabledBorderColor: =RGBA(0, 0, 0, 0)
                        FocusedBorderColor: =
                        FocusedBorderThickness: =2
                        Font: =Font.'Segoe UI'
                        FontWeight: =FontWeight.Semibold
                        Height: =30
                        PaddingLeft: =0
                        PaddingRight: =0
                        Size: =10.5
                        Text: |-
                            =// Define a variable named "Text" with the value "{value}"
                            With(
                                {Text: "Vendor name"},
                                // Check if a localized text exists for "Text" in the user's preferred language
                                If(
                                    // If the localized text is blank, return the default text
                                    IsBlank(
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    ),
                                    Text,
                                    // If a localized text is found, return that instead of the default text
                                    LookUp(
                                        colUserLocalizedStrings,
                                        'English Value' = Text
                                    ).'Localized Value'
                                )
                            ) &" *"
                        Width: =Parent.Width-Self.FocusedBorderThickness*2
                        X: =Self.FocusedBorderThickness
                        ZIndex: =3

                conVendorDetailsAccountGroup As groupContainer.manualLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =64
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    Width: |-
                        =Max(
                            164,
                            Len(cmbVendorDetailsAccountGroup.AccessibleLabel) * 10
                        )
                    X: =40
                    ZIndex: =2

                    cmbVendorDetailsAccountGroup As combobox:
                        AccessibleLabel: |-
                            =// Define a variable named "Text" with the value "{value}"
                            With(
                                {Text: "Select account group"},
                                // Check if a localized text exists for "Text" in the user's preferred language
                                If(
                                    // If the localized text is blank, return the default text
                                    IsBlank(
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    ),
                                    Text,
                                    // If a localized text is found, return that instead of the default text
                                    LookUp(
                                        colUserLocalizedStrings,
                                        'English Value' = Text
                                    ).'Localized Value'
                                )
                            )
                        BorderColor: |-
                            =If(
                                IsBlank(Self.Selected.'Display Value'),
                                varThemeColors.requiredRed,
                                varThemeColors.primaryGray
                            )
                        BorderThickness: =1
                        ChevronBackground: =varThemeColors.backgroundFill
                        ChevronDisabledBackground: =varThemeColors.backgroundFillDisabled
                        ChevronDisabledFill: |
                            =varThemeColors.text
                        ChevronFill: =varThemeColors.text
                        ChevronHoverBackground: =varThemeColors.secondaryGray
                        ChevronHoverFill: |
                            =varThemeColors.text
                        Color: =varThemeColors.text
                        DefaultSelectedItems: |-
                            =//If processing new record, default blank, otherwise existing value from previously returned vendor header record
                            If(
                                varIsNew,
                                Blank(),
                                Filter(
                                    'SAP List of Values',
                                    Domain = 'Domain (SAP List of Values)'.Group,
                                    Language = varISOUserLanguageCode,
                                    'Value Code' = varVendorHeader.AccountGroup
                                )
                            )
                        DisabledBorderColor: =varThemeColors.primaryGray
                        DisabledColor: =varThemeColors.disabledText
                        DisabledFill: =varThemeColors.backgroundFillDisabled
                        DisplayFields: =["mpa_value","mpa_valuecode"]
                        DisplayMode: |-
                            =Switch(
                                true,
                                Or(
                                    varIsNew,
                                    varIsEdit
                                ),
                                DisplayMode.Edit,
                                IsBlank(varVendorHeader),
                                DisplayMode.Disabled,
                                DisplayMode.View
                            )
                        Fill: =varThemeColors.backgroundFill
                        FocusedBorderThickness: =2
                        Font: =Font.'Segoe UI'
                        Height: =32
                        HoverBorderColor: =Self.BorderColor
                        HoverColor: =varThemeColors.text
                        HoverFill: =varThemeColors.secondaryGray
                        InputTextPlaceholder: =Self.AccessibleLabel
                        Items: |-
                            =//Filter from mapped domain value from 'SAP List of Values" entity for appropriate language code
                            Sort(
                                Filter(
                                    'SAP List of Values',
                                    Status = 'Status (SAP List of Values)'.Active,
                                    Domain = 'Domain (SAP List of Values)'.Group,
                                    Language = varISOUserLanguageCode
                                ),
                                'Display Value'
                            )
                        NoSelectionText: =Self.AccessibleLabel
                        OnChange: =
                        PaddingBottom: =6
                        PaddingLeft: =8
                        PaddingRight: =8
                        PaddingTop: =6
                        PressedBorderColor: =Self.BorderColor
                        PressedColor: =varThemeColors.altText
                        PressedFill: =varThemeColors.backgroundFill
                        Reset: =true
                        SearchFields: =["mpa_value","mpa_valuecode"]
                        SearchItems: |-
                            =Search(//Filter from mapped domain value from 'SAP List of Values" entity for appropriate language code
                            Sort(
                                Filter(
                                    'SAP List of Values',
                                    Status = 'Status (SAP List of Values)'.Active,
                                    Domain = 'Domain (SAP List of Values)'.Group,
                                    Language = varISOUserLanguageCode
                                ),
                                'Display Value'
                            ),cmbVendorDetailsAccountGroup.SearchText,"mpa_value","mpa_valuecode")
                        SelectionColor: =varThemeColors.altText
                        SelectionFill: =varThemeColors.primaryGray
                        SelectionTagColor: =varThemeColors.text
                        SelectionTagFill: =varThemeColors.backgroundFill
                        SelectMultiple: =false
                        Size: =10.5
                        Template: =ListItemTemplate.Double
                        Tooltip: |-
                            =Coalesce(
                                Self.Selected.'Display Value',
                                Self.AccessibleLabel
                            )
                        Width: =lblVendorDetailsAccountGroup.Width
                        X: =lblVendorDetailsAccountGroup.X
                        Y: =lblVendorDetailsAccountGroup.Y+lblVendorDetailsAccountGroup.Height
                        ZIndex: =1

                    lblVendorDetailsAccountGroup As label:
                        BorderColor: =RGBA(0, 0, 0, 0)
                        BorderStyle: =BorderStyle.None
                        BorderThickness: =2
                        Color: =varThemeColors.text
                        DisabledBorderColor: =RGBA(0, 0, 0, 0)
                        FocusedBorderColor: =
                        FocusedBorderThickness: =2
                        Font: =Font.'Segoe UI'
                        FontWeight: =FontWeight.Semibold
                        Height: =30
                        PaddingLeft: =0
                        PaddingRight: =0
                        Size: =10.5
                        Text: |-
                            =// Define a variable named "Text" with the value "{value}"
                            With(
                                {Text: "Account group"},
                                // Check if a localized text exists for "Text" in the user's preferred language
                                If(
                                    // If the localized text is blank, return the default text
                                    IsBlank(
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    ),
                                    Text,
                                    // If a localized text is found, return that instead of the default text
                                    LookUp(
                                        colUserLocalizedStrings,
                                        'English Value' = Text
                                    ).'Localized Value'
                                )
                            )&" *"
                        Width: =Parent.Width-Self.FocusedBorderThickness*2
                        X: =Self.FocusedBorderThickness
                        ZIndex: =2

            lblVendorDetailsAddress As label:
                BorderColor: =RGBA(0, 0, 0, 0)
                BorderStyle: =BorderStyle.None
                BorderThickness: =2
                Color: =varThemeColors.text
                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                FocusedBorderColor: =varThemeColors.primary
                FocusedBorderThickness: =4
                Font: =Font.'Segoe UI'
                FontWeight: =FontWeight.Semibold
                Height: =34
                LayoutMinHeight: =
                LayoutMinWidth: =
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                Role: =TextRole.Heading2
                Size: =10.5
                Text: |-
                    =// Define a variable named "Text" with the value "{value}"
                    With(
                        {
                            Text: "Address details"
                        },
                        If(
                            // If the localized text is blank, return the default text
                            IsBlank(
                                LookUp(
                                    colUserLocalizedStrings,
                                    'English Value' = Text
                                ).'Localized Value'
                            ),
                            Text,
                            // If a localized text is found, return that instead of the default text
                            LookUp(
                                colUserLocalizedStrings,
                                'English Value' = Text
                            ).'Localized Value'
                        )
                    )
                Width: =
                ZIndex: =3

            conVendorDetailsAddress As groupContainer.horizontalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                BorderColor: =RGBA(0, 0, 0, 0)
                BorderStyle: =BorderStyle.None
                FillPortions: =0
                Height: |
                    =If(
                        Self.Width <= 1150,
                        128 + Self.LayoutGap,
                        64
                    )
                LayoutGap: =10
                LayoutMinHeight: =
                LayoutMinWidth: =
                LayoutMode: =LayoutMode.Auto
                LayoutWrap: =true
                Width: =
                ZIndex: =4

                conVendorDetailsStreet As groupContainer.manualLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =64
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    Width: |-
                        =Max(
                            244,
                            Len(txtVendorDetailsStreet.HintText) * 10
                        )
                    X: =40
                    ZIndex: =3

                    txtVendorDetailsStreet As text:
                        AccessibleLabel: =Self.HintText
                        BorderColor: =varThemeColors.primaryGray
                        BorderThickness: =1
                        Clear: =true
                        Color: =varThemeColors.text
                        Default: |-
                            =//If processing new record, default blank, otherwise existing value from previously returned vendor header record
                            If(
                                varIsNew,
                                "",
                                varVendorHeader.Street
                            )
                        DisabledBorderColor: =varThemeColors.primaryGray
                        DisabledColor: =varThemeColors.disabledText
                        DisabledFill: =varThemeColors.backgroundFillDisabled
                        DisplayMode: |-
                            =Switch(
                                true,
                                Or(
                                    varIsNew,
                                    varIsEdit
                                ),
                                DisplayMode.Edit,
                                IsBlank(varVendorHeader),
                                DisplayMode.Disabled,
                                DisplayMode.View
                            )
                        Fill: =varThemeColors.backgroundFill
                        FocusedBorderThickness: =2
                        Font: =Font.'Segoe UI'
                        Height: =32
                        HintText: |-
                            =// Define a variable named "Text" with the value "{value}"
                            With(
                                {Text: "Enter street"},
                                // Check if a localized text exists for "Text" in the user's preferred language
                                If(
                                    // If the localized text is blank, return the default text
                                    IsBlank(
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    ),
                                    Text,
                                    // If a localized text is found, return that instead of the default text
                                    LookUp(
                                        colUserLocalizedStrings,
                                        'English Value' = Text
                                    ).'Localized Value'
                                )
                            )
                        HoverBorderColor: =Self.BorderColor
                        HoverColor: =varThemeColors.text
                        HoverFill: =varThemeColors.backgroundFill
                        OnChange: =
                        PaddingBottom: =6
                        PaddingLeft: =8
                        PaddingRight: =8
                        PaddingTop: =6
                        PressedBorderColor: =Self.BorderColor
                        PressedColor: =varThemeColors.text
                        PressedFill: =varThemeColors.backgroundFill
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Reset: =true
                        Size: =10.5
                        Tooltip: |-
                            =Coalesce(
                                Self.Text,
                                Self.HintText
                            )
                        Width: =lblVendorDetailsStreet.Width
                        X: =Self.FocusedBorderThickness
                        Y: =lblVendorDetailsStreet.Y+lblVendorDetailsStreet.Height
                        ZIndex: =2

                    lblVendorDetailsStreet As label:
                        BorderColor: =RGBA(0, 0, 0, 0)
                        BorderStyle: =BorderStyle.None
                        BorderThickness: =2
                        Color: =varThemeColors.text
                        DisabledBorderColor: =RGBA(0, 0, 0, 0)
                        FocusedBorderColor: =
                        FocusedBorderThickness: =2
                        Font: =Font.'Segoe UI'
                        FontWeight: =FontWeight.Semibold
                        Height: =30
                        PaddingLeft: =0
                        PaddingRight: =0
                        Size: =10.5
                        Text: |-
                            =// Define a variable named "Text" with the value "{value}"
                            With(
                                {Text: "Street"},
                                // Check if a localized text exists for "Text" in the user's preferred language
                                If(
                                    // If the localized text is blank, return the default text
                                    IsBlank(
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    ),
                                    Text,
                                    // If a localized text is found, return that instead of the default text
                                    LookUp(
                                        colUserLocalizedStrings,
                                        'English Value' = Text
                                    ).'Localized Value'
                                )
                            )
                        Width: =Parent.Width-Self.FocusedBorderThickness*2
                        X: =Self.FocusedBorderThickness
                        ZIndex: =3

                conVendorDetailsCity As groupContainer.manualLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =64
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    Width: |-
                        =Max(
                            244,
                            Len(txtVendorDetailsCity.HintText) * 10
                        )
                    X: =40
                    ZIndex: =4

                    txtVendorDetailsCity As text:
                        AccessibleLabel: =Self.HintText
                        BorderColor: =   varThemeColors.primaryGray
                        BorderThickness: =1
                        Clear: =true
                        Color: =varThemeColors.text
                        Default: |-
                            =//If processing new record, default blank, otherwise existing value from previously returned vendor header record
                            If(
                                varIsNew,
                                "",
                                varVendorHeader.City
                            )
                        DisabledBorderColor: =varThemeColors.primaryGray
                        DisabledColor: =varThemeColors.disabledText
                        DisabledFill: =varThemeColors.backgroundFillDisabled
                        DisplayMode: |-
                            =Switch(
                                true,
                                Or(
                                    varIsNew,
                                    varIsEdit
                                ),
                                DisplayMode.Edit,
                                IsBlank(varVendorHeader),
                                DisplayMode.Disabled,
                                DisplayMode.View
                            )
                        Fill: =varThemeColors.backgroundFill
                        FocusedBorderThickness: =2
                        Font: =Font.'Segoe UI'
                        Height: =32
                        HintText: |-
                            =// Define a variable named "Text" with the value "{value}"
                            With(
                                {Text: "Enter city"},
                                // Check if a localized text exists for "Text" in the user's preferred language
                                If(
                                    // If the localized text is blank, return the default text
                                    IsBlank(
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    ),
                                    Text,
                                    // If a localized text is found, return that instead of the default text
                                    LookUp(
                                        colUserLocalizedStrings,
                                        'English Value' = Text
                                    ).'Localized Value'
                                )
                            )
                        HoverBorderColor: =Self.BorderColor
                        HoverColor: =varThemeColors.text
                        HoverFill: =varThemeColors.backgroundFill
                        MaxLength: =70
                        OnChange: =
                        PaddingBottom: =6
                        PaddingLeft: =8
                        PaddingRight: =8
                        PaddingTop: =6
                        PressedBorderColor: =Self.BorderColor
                        PressedColor: =varThemeColors.text
                        PressedFill: =varThemeColors.backgroundFill
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Reset: =true
                        Size: =10.5
                        Tooltip: |-
                            =Coalesce(
                                Self.Text,
                                Self.HintText
                            )
                        Width: =lblVendorDetailsCity.Width
                        X: =Self.FocusedBorderThickness
                        Y: =lblVendorDetailsCity.Y+lblVendorDetailsCity.Height
                        ZIndex: =2

                    lblVendorDetailsCity As label:
                        BorderColor: =RGBA(0, 0, 0, 0)
                        BorderStyle: =BorderStyle.None
                        BorderThickness: =2
                        Color: =varThemeColors.text
                        DisabledBorderColor: =RGBA(0, 0, 0, 0)
                        FocusedBorderColor: =
                        FocusedBorderThickness: =2
                        Font: =Font.'Segoe UI'
                        FontWeight: =FontWeight.Semibold
                        Height: =30
                        PaddingLeft: =0
                        PaddingRight: =0
                        Size: =10.5
                        Text: |-
                            =// Define a variable named "Text" with the value "{value}"
                            With(
                                {Text: "City"},
                                // Check if a localized text exists for "Text" in the user's preferred language
                                If(
                                    // If the localized text is blank, return the default text
                                    IsBlank(
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    ),
                                    Text,
                                    // If a localized text is found, return that instead of the default text
                                    LookUp(
                                        colUserLocalizedStrings,
                                        'English Value' = Text
                                    ).'Localized Value'
                                )
                            )
                        Width: =Parent.Width-Self.FocusedBorderThickness*2
                        X: =Self.FocusedBorderThickness
                        ZIndex: =3

                conVendorDetailsCountry As groupContainer.manualLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =64
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    Width: |-
                        =Max(
                            224,
                            Len(cmbVendorCountry.AccessibleLabel) * 10
                        )
                    X: =40
                    ZIndex: =5

                    cmbVendorCountry As combobox:
                        AccessibleLabel: |-
                            =// Define a variable named "Text" with the value "{value}"
                            With(
                                {Text: "Select country"},
                                // Check if a localized text exists for "Text" in the user's preferred language
                                If(
                                    // If the localized text is blank, return the default text
                                    IsBlank(
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    ),
                                    Text,
                                    // If a localized text is found, return that instead of the default text
                                    LookUp(
                                        colUserLocalizedStrings,
                                        'English Value' = Text
                                    ).'Localized Value'
                                )
                            )
                        BorderColor: |-
                            =If(
                                IsBlank(Self.Selected.'Value Code'),
                                varThemeColors.requiredRed,
                                varThemeColors.primaryGray
                            )
                        BorderThickness: =1
                        ChevronBackground: =varThemeColors.backgroundFill
                        ChevronDisabledBackground: =varThemeColors.backgroundFillDisabled
                        ChevronDisabledFill: |
                            =varThemeColors.text
                        ChevronFill: =varThemeColors.text
                        ChevronHoverBackground: =varThemeColors.secondaryGray
                        ChevronHoverFill: |
                            =varThemeColors.text
                        Color: =varThemeColors.text
                        DefaultSelectedItems: |-
                            =//If processing new record, default blank, otherwise existing value from previously returned vendor header record
                            If(
                                varIsNew,
                                Blank(),
                                Filter(
                                    'SAP List of Values',
                                    Domain = 'Domain (SAP List of Values)'.Country,
                                    Language = varISOUserLanguageCode,
                                    'Value Code' = varVendorHeader.Country
                                )
                            )
                        DisabledBorderColor: =varThemeColors.primaryGray
                        DisabledColor: =varThemeColors.disabledText
                        DisabledFill: =varThemeColors.backgroundFillDisabled
                        DisplayFields: =["mpa_value","mpa_valuecode"]
                        DisplayMode: |-
                            =Switch(
                                true,
                                Or(
                                    varIsNew,
                                    varIsEdit
                                ),
                                DisplayMode.Edit,
                                IsBlank(varVendorHeader),
                                DisplayMode.Disabled,
                                DisplayMode.View
                            )
                        Fill: =varThemeColors.backgroundFill
                        FocusedBorderThickness: =2
                        Font: =Font.'Segoe UI'
                        Height: =32
                        HoverBorderColor: =Self.BorderColor
                        HoverColor: =varThemeColors.text
                        HoverFill: =varThemeColors.secondaryGray
                        InputTextPlaceholder: =Self.AccessibleLabel
                        Items: |-
                            =//Filter possible list of values according to mapped domain and language field
                            Sort(
                                Filter(
                                    'SAP List of Values',
                                    Status = 'Status (SAP List of Values)'.Active,
                                    Domain = 'Domain (SAP List of Values)'.Country,
                                    Language = varISOUserLanguageCode
                                ),
                                'Display Value'
                            )
                        NoSelectionText: =Self.AccessibleLabel
                        OnChange: =
                        PaddingBottom: =6
                        PaddingLeft: =8
                        PaddingRight: =8
                        PaddingTop: =6
                        PressedBorderColor: =Self.BorderColor
                        PressedColor: =varThemeColors.altText
                        PressedFill: =varThemeColors.backgroundFill
                        Reset: =true
                        SearchFields: =["mpa_value","mpa_valuecode"]
                        SearchItems: |-
                            =Search(//Filter possible list of values according to mapped domain and language field
                            Sort(
                                Filter(
                                    'SAP List of Values',
                                    Status = 'Status (SAP List of Values)'.Active,
                                    Domain = 'Domain (SAP List of Values)'.Country,
                                    Language = varISOUserLanguageCode
                                ),
                                'Display Value'
                            ),cmbVendorCountry.SearchText,"mpa_value","mpa_valuecode")
                        SelectionColor: =varThemeColors.altText
                        SelectionFill: =varThemeColors.primaryGray
                        SelectionTagColor: =varThemeColors.text
                        SelectionTagFill: =varThemeColors.backgroundFill
                        SelectMultiple: =false
                        Size: =10.5
                        Template: =ListItemTemplate.Double
                        Tooltip: |-
                            =Coalesce(
                                Self.Selected.'Display Value',
                                Self.AccessibleLabel
                            )
                        Width: =lblVendorCountry.Width
                        X: =lblVendorCountry.X
                        Y: =lblVendorCountry.Y+lblVendorCountry.Height
                        ZIndex: =2

                    lblVendorCountry As label:
                        BorderColor: =RGBA(0, 0, 0, 0)
                        BorderStyle: =BorderStyle.None
                        BorderThickness: =2
                        Color: =varThemeColors.text
                        DisabledBorderColor: =RGBA(0, 0, 0, 0)
                        FocusedBorderColor: =
                        FocusedBorderThickness: =2
                        Font: =Font.'Segoe UI'
                        FontWeight: =FontWeight.Semibold
                        Height: =30
                        PaddingLeft: =0
                        PaddingRight: =0
                        Size: =10.5
                        Text: |-
                            =// Define a variable named "Text" with the value "{value}"
                            With(
                                {Text: "Country"},
                                // Check if a localized text exists for "Text" in the user's preferred language
                                If(
                                    // If the localized text is blank, return the default text
                                    IsBlank(
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    ),
                                    Text,
                                    // If a localized text is found, return that instead of the default text
                                    LookUp(
                                        colUserLocalizedStrings,
                                        'English Value' = Text
                                    ).'Localized Value'
                                )
                            )&" *"
                        Width: =Parent.Width-Self.FocusedBorderThickness*2
                        X: =Self.FocusedBorderThickness
                        ZIndex: =3

                conVendorDetailsStateProvince As groupContainer.manualLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =64
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    Width: |-
                        =Max(
                            224,
                            Len(cmbVendorDetailsStateProvince.AccessibleLabel) * 10
                        )
                    X: =40
                    ZIndex: =6

                    cmbVendorDetailsStateProvince As combobox:
                        AccessibleLabel: |-
                            =// Define a variable named "Text" with the value "{value}"
                            With(
                                {Text: "Select state/province"},
                                // Check if a localized text exists for "Text" in the user's preferred language
                                If(
                                    // If the localized text is blank, return the default text
                                    IsBlank(
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    ),
                                    Text,
                                    // If a localized text is found, return that instead of the default text
                                    LookUp(
                                        colUserLocalizedStrings,
                                        'English Value' = Text
                                    ).'Localized Value'
                                )
                            )
                        BorderColor: =   varThemeColors.primaryGray
                        BorderThickness: =1
                        ChevronBackground: =varThemeColors.backgroundFill
                        ChevronDisabledBackground: =varThemeColors.backgroundFillDisabled
                        ChevronDisabledFill: |
                            =varThemeColors.text
                        ChevronFill: =varThemeColors.text
                        ChevronHoverBackground: =varThemeColors.secondaryGray
                        ChevronHoverFill: |
                            =varThemeColors.text
                        Color: =varThemeColors.text
                        DefaultSelectedItems: |-
                            =//If processing new record, default blank, otherwise existing value from previously returned vendor header record
                            If(
                                varIsNew,
                                Blank(),
                                Filter(
                                    'SAP List of Values',
                                    Domain = 'Domain (SAP List of Values)'.'State/Province',
                                    Language = varISOUserLanguageCode,
                                    'Value Code' = varVendorHeader.Region,
                                    'Parent Value'.'SAP List of Value' = cmbVendorCountry.Selected.'SAP List of Value'
                                )
                            )
                        DisabledBorderColor: =varThemeColors.primaryGray
                        DisabledColor: =varThemeColors.disabledText
                        DisabledFill: =varThemeColors.backgroundFillDisabled
                        DisplayFields: =["mpa_value","mpa_valuecode"]
                        DisplayMode: |-
                            =Switch(
                                true,
                                Or(
                                    varIsNew,
                                    varIsEdit
                                ) && !IsBlank(cmbVendorCountry.Selected.'Value Code'),
                                DisplayMode.Edit,
                                Or(
                                    IsBlank(varVendorHeader),
                                    IsBlank(cmbVendorCountry.Selected.'Value Code')
                                ),
                                DisplayMode.Disabled,
                                DisplayMode.View
                            )
                        Fill: =varThemeColors.backgroundFill
                        FocusedBorderThickness: =2
                        Font: =Font.'Segoe UI'
                        Height: =32
                        HoverBorderColor: =Self.BorderColor
                        HoverColor: =varThemeColors.text
                        HoverFill: =varThemeColors.secondaryGray
                        InputTextPlaceholder: =Self.AccessibleLabel
                        Items: |-
                            =//Filter possible list of values according to mapped domain and language field
                            Sort(
                                Filter(
                                    'SAP List of Values',
                                    'Parent Value'.'SAP List of Value' = cmbVendorCountry.Selected.'SAP List of Value',
                                    Status = 'Status (SAP List of Values)'.Active,
                                    Domain = 'Domain (SAP List of Values)'.'State/Province',
                                    Language = varISOUserLanguageCode
                                ),
                                'Display Value'
                            )
                        NoSelectionText: =Self.AccessibleLabel
                        OnChange: =
                        PaddingBottom: =6
                        PaddingLeft: =8
                        PaddingRight: =8
                        PaddingTop: =6
                        PressedBorderColor: =Self.BorderColor
                        PressedColor: =varThemeColors.altText
                        PressedFill: =varThemeColors.backgroundFill
                        Reset: =true
                        SearchFields: =["mpa_value","mpa_valuecode"]
                        SearchItems: |-
                            =Search(//Filter possible list of values according to mapped domain and language field
                            Sort(
                                Filter(
                                    'SAP List of Values',
                                    'Parent Value'.'SAP List of Value' = cmbVendorCountry.Selected.'SAP List of Value',
                                    Status = 'Status (SAP List of Values)'.Active,
                                    Domain = 'Domain (SAP List of Values)'.'State/Province',
                                    Language = varISOUserLanguageCode
                                ),
                                'Display Value'
                            ),cmbVendorDetailsStateProvince.SearchText,"mpa_value","mpa_valuecode")
                        SelectionColor: =varThemeColors.altText
                        SelectionFill: =varThemeColors.primaryGray
                        SelectionTagColor: =varThemeColors.text
                        SelectionTagFill: =varThemeColors.backgroundFill
                        SelectMultiple: =false
                        Size: =10.5
                        Template: =ListItemTemplate.Double
                        Tooltip: |-
                            =Coalesce(
                                Self.Selected.'Display Value',
                                Self.AccessibleLabel
                            )
                        Width: =lblVendorDetailsStateProvince.Width
                        X: =lblVendorDetailsStateProvince.X
                        Y: =lblVendorDetailsStateProvince.Y+lblVendorDetailsStateProvince.Height
                        ZIndex: =2

                    lblVendorDetailsStateProvince As label:
                        BorderColor: =RGBA(0, 0, 0, 0)
                        BorderStyle: =BorderStyle.None
                        BorderThickness: =2
                        Color: =varThemeColors.text
                        DisabledBorderColor: =RGBA(0, 0, 0, 0)
                        FocusedBorderColor: =
                        FocusedBorderThickness: =2
                        Font: =Font.'Segoe UI'
                        FontWeight: =FontWeight.Semibold
                        Height: =30
                        PaddingLeft: =0
                        PaddingRight: =0
                        Size: =10.5
                        Text: |-
                            =// Define a variable named "Text" with the value "{value}"
                            With(
                                {Text: "State/Province"},
                                // Check if a localized text exists for "Text" in the user's preferred language
                                If(
                                    // If the localized text is blank, return the default text
                                    IsBlank(
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    ),
                                    Text,
                                    // If a localized text is found, return that instead of the default text
                                    LookUp(
                                        colUserLocalizedStrings,
                                        'English Value' = Text
                                    ).'Localized Value'
                                )
                            )
                        Width: =Parent.Width-Self.FocusedBorderThickness*2
                        X: =Self.FocusedBorderThickness
                        ZIndex: =3

                conVendorDetailsPostalCode As groupContainer.manualLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =64
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    Width: |-
                        =Max(
                            144,
                            Len(txtVendorDetailsPostalCode.HintText) * 10
                        )
                    X: =40
                    ZIndex: =7

                    txtVendorDetailsPostalCode As text:
                        AccessibleLabel: =Self.HintText
                        BorderColor: =varThemeColors.primaryGray
                        BorderThickness: =1
                        Clear: =true
                        Color: =varThemeColors.text
                        Default: |-
                            =//If processing new record, default blank, otherwise existing value from previously returned vendor header record
                            If(
                                varIsNew,
                                "",
                                varVendorHeader.PostalCode
                            )
                        DisabledBorderColor: =varThemeColors.primaryGray
                        DisabledColor: =varThemeColors.disabledText
                        DisabledFill: =varThemeColors.backgroundFillDisabled
                        DisplayMode: |-
                            =Switch(
                                true,
                                Or(
                                    varIsNew,
                                    varIsEdit
                                ),
                                DisplayMode.Edit,
                                IsBlank(varVendorHeader),
                                DisplayMode.Disabled,
                                DisplayMode.View
                            )
                        Fill: =varThemeColors.backgroundFill
                        FocusedBorderThickness: =2
                        Font: =Font.'Segoe UI'
                        Height: =32
                        HintText: |-
                            =
                            // Define a variable named "Text" with the value "{value}"
                            With(
                                {Text: "Enter postal code"},
                                // Check if a localized text exists for "Text" in the user's preferred language
                                If(
                                    // If the localized text is blank, return the default text
                                    IsBlank(
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    ),
                                    Text,
                                    // If a localized text is found, return that instead of the default text
                                    LookUp(
                                        colUserLocalizedStrings,
                                        'English Value' = Text
                                    ).'Localized Value'
                                )
                            )
                        HoverBorderColor: =Self.BorderColor
                        HoverColor: =varThemeColors.text
                        HoverFill: =varThemeColors.backgroundFill
                        MaxLength: =20
                        OnChange: =
                        PaddingBottom: =6
                        PaddingLeft: =8
                        PaddingRight: =8
                        PaddingTop: =6
                        PressedBorderColor: =Self.BorderColor
                        PressedColor: =varThemeColors.text
                        PressedFill: =varThemeColors.backgroundFill
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Reset: =true
                        Size: =10.5
                        Tooltip: |-
                            =Coalesce(
                                Self.Text,
                                Self.HintText
                            )
                        Width: =lblVendorDetailsPostalCode.Width
                        X: =1
                        Y: =lblVendorDetailsPostalCode.Y+lblVendorDetailsPostalCode.Height
                        ZIndex: =2

                    lblVendorDetailsPostalCode As label:
                        BorderColor: =RGBA(0, 0, 0, 0)
                        BorderStyle: =BorderStyle.None
                        BorderThickness: =2
                        Color: =varThemeColors.text
                        DisabledBorderColor: =RGBA(0, 0, 0, 0)
                        FocusedBorderColor: =
                        FocusedBorderThickness: =2
                        Font: =Font.'Segoe UI'
                        FontWeight: =FontWeight.Semibold
                        Height: =30
                        PaddingLeft: =0
                        PaddingRight: =0
                        Size: =10.5
                        Text: |-
                            =// Define a variable named "Text" with the value "{value}"
                            With(
                                {Text: "Postal code"},
                                // Check if a localized text exists for "Text" in the user's preferred language
                                If(
                                    // If the localized text is blank, return the default text
                                    IsBlank(
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    ),
                                    Text,
                                    // If a localized text is found, return that instead of the default text
                                    LookUp(
                                        colUserLocalizedStrings,
                                        'English Value' = Text
                                    ).'Localized Value'
                                )
                            )
                        Width: =Parent.Width-Self.FocusedBorderThickness*2
                        X: =Self.FocusedBorderThickness
                        ZIndex: =3

            conVendorDetailsPurchasingOrganizations As groupContainer.verticalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                Fill: =RGBA(255, 255, 255, 1)
                FillPortions: =0
                Height: |-
                    =If(
                        varExpandPurchasingOrgs,
                        conVendorDetailsPurchasingOrganizationEntry.LayoutMinHeight + conVendorDetailsPurchasingOrgCommandBar.Height + shpVendorDetailPurchaseOrgDivider.Height,
                        conVendorDetailsPurchasingOrgCommandBar.Height
                    )
                LayoutAlignItems: =LayoutAlignItems.Stretch
                LayoutDirection: =LayoutDirection.Vertical
                LayoutMinHeight: |-
                    =If(
                        varExpandPurchasingOrgs,
                        conVendorDetailsPurchasingOrganizationEntry.LayoutMinHeight + conVendorDetailsPurchasingOrgCommandBar.Height + shpVendorDetailPurchaseOrgDivider.Height,
                        conVendorDetailsPurchasingOrgCommandBar.Height
                    )
                LayoutMinWidth: |-
                    =Max(
                        conVendorDetailsPurchasingOrganizationEntry.LayoutMinWidth + Self.PaddingLeft + Self.PaddingRight,
                        conVendorDetailsCompanyCodesEntry.LayoutMinWidth + Self.PaddingLeft + Self.PaddingRight,
                        conVendorDetailsPhonesEntry.LayoutMinWidth + Self.PaddingLeft + Self.PaddingRight,
                        conVendorDetailsEmailsEntry.LayoutMinWidth + Self.PaddingLeft + Self.PaddingRight
                    )
                LayoutMode: =LayoutMode.Auto
                Width: =
                ZIndex: =5

                conVendorDetailsPurchasingOrgCommandBar As groupContainer.horizontalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =39
                    LayoutAlignItems: =LayoutAlignItems.Center
                    LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                    LayoutMinHeight: =
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =2
                    PaddingRight: =2
                    Width: =
                    ZIndex: =1

                    conVendorDetailsPurchasingOrgCommandBarLeft As groupContainer.horizontalAutoLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        Height: =Parent.Height
                        LayoutAlignItems: =LayoutAlignItems.Center
                        LayoutGap: =2
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        PaddingLeft: =2
                        PaddingRight: =2
                        ZIndex: =2

                        "icoVendorDetailsPurchasingOrgCommandBarLeftExpandCollapse As icon.'3DPrinting'":
                            AccessibleLabel: =Self.Tooltip
                            BorderColor: =varThemeColors.primary
                            Color: =varThemeColors.text
                            DisabledBorderColor: =varThemeColors.disabledText
                            DisabledColor: =varThemeColors.backgroundFillDisabled
                            DisabledFill: =RGBA(0,0,0,0)
                            DisplayMode: |-
                                =If(
                                    And(
                                        !varIsNew,
                                        Or(
                                            IsBlank(varVendorHeader),
                                            varIsProcessing
                                        )
                                    ),
                                    DisplayMode.Disabled,
                                    DisplayMode.Edit
                                )
                            Fill: =RGBA(0,0,0,0)
                            FocusedBorderColor: =varThemeColors.tertiaryGray
                            Height: =20
                            HoverBorderColor: =varThemeColors.primary
                            HoverColor: =varThemeColors.primary
                            HoverFill: =RGBA(0,0,0,0)
                            Icon: |-
                                =If(
                                    varExpandPurchasingOrgs,
                                    Icon.ChevronDown,
                                    Icon.ChevronRight
                                )
                            OnSelect: |-
                                =//Update variable that drives whether to show the subgrid or not
                                Set(
                                    varExpandPurchasingOrgs,
                                    !varExpandPurchasingOrgs
                                );
                                //Reset controls, toggle reset select row variables as a work around to not being able to reset controls within galleries
                                Set(
                                    varResetSelectPurchaseOrganizationRows,
                                    true
                                );
                                Set(
                                    varResetSelectPurchaseOrganizationRows,
                                    false
                                );
                                Reset(txtVendorDetailsPurchasingOrgCommandBarFilter);
                                Reset(chbVendorDetailsPurchasingOrgsSelectAll);
                                If(
                                    And(
                                        varExpandPurchasingOrgs,
                                        Or(
                                            varIsNew,
                                            varIsEdit
                                        )
                                    ),
                                    SetFocus(btnVendorDetailsPurchaseOrgAddButton),
                                    SetFocus(txtVendorDetailsPurchasingOrgCommandBarFilter)
                                )
                            PaddingBottom: =3
                            PaddingLeft: =3
                            PaddingRight: =3
                            PaddingTop: =3
                            PressedBorderColor: =varThemeColors.primary
                            PressedColor: =varThemeColors.primary
                            PressedFill: =RGBA(0,0,0,0)
                            TabIndex: =0
                            Tooltip: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: If(
                                            varExpandPurchasingOrgs,
                                            "Collapse purchasing organizations",
                                            "Expand purchasing organizations"
                                        )
                                    },
                                    // Check if a localized text exists for "Text" in the user's preferred language
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Width: =20
                            Y: =Self.FocusedBorderThickness
                            ZIndex: =1

                        lblVendorDetailsPurchasingOrg As label:
                            BorderColor: =varThemeColors.primaryGray
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =varThemeColors.text
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            FocusedBorderColor: =varThemeColors.primary
                            FocusedBorderThickness: =2
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Semibold
                            Height: =Parent.Height
                            PaddingBottom: =0
                            PaddingLeft: =0
                            PaddingRight: =0
                            PaddingTop: =0
                            Role: =TextRole.Heading2
                            Size: =10.5
                            Text: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: "Purchasing organizations"
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )&" *"
                            Width: =Len(Self.Text)*7
                            ZIndex: =2

                        conVendorDetailsPurchaseOrgAddButton As groupContainer.manualLayoutContainer:
                            AlignInContainer: =AlignInContainer.SetByContainer
                            FillPortions: =0
                            Height: =Parent.Height
                            LayoutMinHeight: =100
                            LayoutMinWidth: =250
                            Visible: |-
                                =And(
                                    varExpandPurchasingOrgs,
                                    Or(
                                        varIsEdit,
                                        varIsNew
                                    )
                                )
                            Width: =Len(btnVendorDetailsPurchaseOrgAddButton.Text) * 10 + btnVendorDetailsPurchaseOrgAddButton.PaddingLeft + btnVendorDetailsPurchaseOrgAddButton.PaddingRight
                            ZIndex: =3

                            icoVendorDetailsPurchaseOrgAddButton As icon.Save:
                                AccessibleLabel: |-
                                    =// Define a variable named "Text" with the value "{value}"
                                    With(
                                        {Text: "Add"},
                                        // Check if a localized text exists for "Text" in the user's preferred language
                                        If(
                                            // If the localized text is blank, return the default text
                                            IsBlank(
                                                LookUp(
                                                    colUserLocalizedStrings,
                                                    'English Value' = Text
                                                ).'Localized Value'
                                            ),
                                            Text,
                                            // If a localized text is found, return that instead of the default text
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        )
                                    )
                                Color: =varThemeColors.primary
                                DisabledColor: =varThemeColors.disabledText
                                DisplayMode: |-
                                    =If(
                                        varIsProcessing,
                                        DisplayMode.Disabled,
                                        DisplayMode.Edit
                                    )
                                FocusedBorderColor: =varThemeColors.primary
                                Height: =16
                                Icon: =Icon.Add
                                Width: =16
                                X: =5
                                Y: =btnVendorDetailsPurchaseOrgAddButton.Y+btnVendorDetailsPurchaseOrgAddButton.Height/2-Self.Height/2
                                ZIndex: =1

                            btnVendorDetailsPurchaseOrgAddButton As button:
                                Align: =Align.Left
                                BorderColor: =RGBA(0,0,0,0)
                                Color: =varThemeColors.text
                                DisabledBorderColor: =
                                DisabledColor: =varThemeColors.disabledText
                                DisabledFill: =
                                DisplayMode: |-
                                    =If(
                                        varIsProcessing,
                                        DisplayMode.Disabled,
                                        DisplayMode.Edit
                                    )
                                Fill: =RGBA(0, 0, 0, 0)
                                FocusedBorderColor: =varThemeColors.tertiaryGray
                                FocusedBorderThickness: =2
                                Font: =Font.'Segoe UI'
                                FontWeight: =FontWeight.Normal
                                Height: =Parent.Height-Self.Y*2
                                HoverBorderColor: =
                                HoverColor: =varThemeColors.primary
                                HoverFill: =Color.Transparent
                                OnSelect: |
                                    =//Collection that tracks cross screen navigation thread and allows to back out in reverse sequence
                                    ClearCollect(
                                        colAppNavigationThreads,
                                        Table(
                                            {
                                                Screen: App.ActiveScreen,
                                                Order: CountRows(colAppNavigationThreads) + 1
                                            }
                                        )
                                    );
                                    Navigate(
                                        'Vendor Purchasing Org Details Screen',
                                        ScreenTransition.Cover,
                                        {_purchaseOrg: Blank()}
                                    );
                                PaddingLeft: =icoVendorDetailsPurchaseOrgAddButton.X + icoVendorDetailsPurchaseOrgAddButton.Width + 8
                                PressedColor: =Color.Black
                                PressedFill: =Color.Transparent
                                RadiusBottomLeft: =0
                                RadiusBottomRight: =0
                                RadiusTopLeft: =0
                                RadiusTopRight: =0
                                Size: =10.5
                                Text: |-
                                    =With(
                                        {Text: "Add"},
                                        If(
                                            // If the localized text is blank, return the default text
                                            IsBlank(
                                                LookUp(
                                                    colUserLocalizedStrings,
                                                    'English Value' = Text
                                                ).'Localized Value'
                                            ),
                                            Text,
                                            // If a localized text is found, return that instead of the default text
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        )
                                    )
                                Tooltip: =Self.Text
                                Width: =Parent.Width-Self.X*2
                                X: =Self.FocusedBorderThickness
                                Y: =Self.FocusedBorderThickness
                                ZIndex: =2

                        conVendorDetailsPurchaseOrgDeleteButton As groupContainer.manualLayoutContainer:
                            AlignInContainer: =AlignInContainer.SetByContainer
                            FillPortions: =0
                            Height: =Parent.Height
                            LayoutMinHeight: =100
                            LayoutMinWidth: =250
                            Visible: |-
                                =//Make the button visible only if the following conditions are true
                                And(
                                    varExpandPurchasingOrgs,
                                    Or(//if a record is being created or updated
                                        varIsEdit,
                                        varIsNew
                                    ),
                                    !IsEmpty(//if one or more rows is selected
                                        Filter(
                                            galVendorDetailsPurchasingOrganizations.AllItems,
                                            chbVendorDetailsPurchasingOrgsSelectRow.Value
                                        )
                                    )
                                )
                            Width: =Len(btnVendorDetailsPurchaseOrgDeleteButton.Text) * 10 + btnVendorDetailsPurchaseOrgDeleteButton.PaddingLeft
                            ZIndex: =4

                            icoVendorDetailsPurchaseOrgDeleteButton As icon.Save:
                                AccessibleLabel: |-
                                    =// Define a variable named "Text" with the value "{value}"
                                    With(
                                        {Text: "Delete"},
                                        // Check if a localized text exists for "Text" in the user's preferred language
                                        If(
                                            // If the localized text is blank, return the default text
                                            IsBlank(
                                                LookUp(
                                                    colUserLocalizedStrings,
                                                    'English Value' = Text
                                                ).'Localized Value'
                                            ),
                                            Text,
                                            // If a localized text is found, return that instead of the default text
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        )
                                    )
                                Color: =varThemeColors.primary
                                DisabledColor: =varThemeColors.disabledText
                                DisplayMode: |-
                                    =If(
                                        varIsProcessing,
                                        DisplayMode.Disabled,
                                        DisplayMode.Edit
                                    )
                                FocusedBorderColor: =varThemeColors.primary
                                Height: =16
                                Icon: =Icon.Cancel
                                Width: =16
                                X: =5
                                Y: =btnVendorDetailsPurchaseOrgDeleteButton.Y+btnVendorDetailsPurchaseOrgDeleteButton.Height/2-Self.Height/2
                                ZIndex: =1

                            btnVendorDetailsPurchaseOrgDeleteButton As button:
                                Align: =Align.Left
                                BorderColor: =RGBA(0,0,0,0)
                                Color: =varThemeColors.text
                                DisabledBorderColor: =
                                DisabledColor: =varThemeColors.disabledText
                                DisabledFill: =
                                DisplayMode: |-
                                    =If(
                                        varIsProcessing,
                                        DisplayMode.Disabled,
                                        DisplayMode.Edit
                                    )
                                Fill: =RGBA(0, 0, 0, 0)
                                FocusedBorderColor: =varThemeColors.tertiaryGray
                                FocusedBorderThickness: =2
                                Font: =Font.'Segoe UI'
                                FontWeight: =FontWeight.Normal
                                Height: =Parent.Height-Self.Y*2
                                HoverBorderColor: =
                                HoverColor: =varThemeColors.primary
                                HoverFill: =Color.Transparent
                                OnSelect: |+
                                    =RemoveIf(
                                        colVendorPurchasingOrgs,
                                        And(
                                            ID in Filter(
                                                galVendorDetailsPurchasingOrganizations.AllItems,
                                                chbVendorDetailsPurchasingOrgsSelectRow.Value = true
                                            ).ID,
                                            CrudType = "C"
                                        )
                                    );
                                    UpdateIf(
                                        colVendorPurchasingOrgs,
                                        ID in Filter(
                                            galVendorDetailsPurchasingOrganizations.AllItems,
                                            chbVendorDetailsPurchasingOrgsSelectRow.Value = true
                                        ).ID,
                                        {CrudType: "D"}
                                    );
                                    
                                PaddingLeft: =icoVendorDetailsPurchaseOrgDeleteButton.X + icoVendorDetailsPurchaseOrgDeleteButton.Width + 8
                                PressedColor: =Color.Black
                                PressedFill: =Color.Transparent
                                RadiusBottomLeft: =0
                                RadiusBottomRight: =0
                                RadiusTopLeft: =0
                                RadiusTopRight: =0
                                Size: =10.5
                                Text: |-
                                    =With(
                                        {Text: "Delete"},
                                        If(
                                            // If the localized text is blank, return the default text
                                            IsBlank(
                                                LookUp(
                                                    colUserLocalizedStrings,
                                                    'English Value' = Text
                                                ).'Localized Value'
                                            ),
                                            Text,
                                            // If a localized text is found, return that instead of the default text
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        )
                                    )
                                Tooltip: =Self.Text
                                Width: =Parent.Width-Self.X*2
                                X: =Self.FocusedBorderThickness
                                Y: =Self.FocusedBorderThickness
                                ZIndex: =2

                    conVendorDetailsPurchasingOrgCommandBarFilter As groupContainer.manualLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        FillPortions: =0
                        Height: =Parent.Height
                        LayoutMinHeight: =
                        LayoutMinWidth: =
                        Width: =txtVendorDetailsPurchasingOrgCommandBarFilter.X+txtVendorDetailsPurchasingOrgCommandBarFilter.Width+txtVendorDetailsPurchasingOrgCommandBarFilter.FocusedBorderThickness
                        ZIndex: =3

                        txtVendorDetailsPurchasingOrgCommandBarFilter As text:
                            AccessibleLabel: =Self.HintText
                            BorderColor: =varThemeColors.primaryGray
                            BorderThickness: =1
                            Clear: =true
                            Color: =varThemeColors.text
                            Default: =
                            DelayOutput: =true
                            DisabledBorderColor: =varThemeColors.primaryGray
                            DisabledColor: =varThemeColors.disabledText
                            DisabledFill: =varThemeColors.backgroundFillDisabled
                            DisplayMode: |-
                                =If(
                                    And(
                                        galVendorDetailsPurchasingOrganizations.Visible,
                                        varExpandPurchasingOrgs
                                    ),
                                    DisplayMode.Edit,
                                    DisplayMode.Disabled
                                )
                            Fill: =varThemeColors.backgroundFill
                            FocusedBorderThickness: =2
                            Font: =Font.'Segoe UI'
                            Height: =30
                            HintText: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {Text: "Filter purchasing organizations"},
                                    // Check if a localized text exists for "Text" in the user's preferred language
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            HoverBorderColor: =Self.BorderColor
                            HoverColor: =varThemeColors.text
                            HoverFill: =varThemeColors.backgroundFill
                            MaxLength: =70
                            OnChange: =
                            PaddingBottom: =6
                            PaddingLeft: =8
                            PaddingRight: =8
                            PaddingTop: =6
                            PressedBorderColor: =Self.BorderColor
                            PressedColor: =
                            PressedFill: =varThemeColors.backgroundFill
                            RadiusBottomLeft: =0
                            RadiusBottomRight: =0
                            RadiusTopLeft: =0
                            RadiusTopRight: =0
                            Reset: =true
                            Size: =10.5
                            Tooltip: |-
                                =Coalesce(
                                    Self.Text,
                                    Self.HintText
                                )
                            Width: =248
                            X: =shpVendorDetailsPurchasingOrgCommandBarFilter.X+shpVendorDetailsPurchasingOrgCommandBarFilter.Width+7
                            Y: =Parent.Height/2-Self.Height/2
                            ZIndex: =1

                        shpVendorDetailsPurchasingOrgCommandBarFilter As rectangle:
                            AccessibleLabel: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: "Divider"
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Fill: =varThemeColors.secondaryGray
                            Height: =30
                            OnSelect: =
                            Width: =2
                            Y: =6
                            ZIndex: =2

                shpVendorDetailPurchaseOrgDivider As rectangle:
                    AccessibleLabel: |-
                        =// Define a variable named "Text" with the value "{value}"
                        With(
                            {
                                Text: "Divider"
                            },
                            If(
                                // If the localized text is blank, return the default text
                                IsBlank(
                                    LookUp(
                                        colUserLocalizedStrings,
                                        'English Value' = Text
                                    ).'Localized Value'
                                ),
                                Text,
                                // If a localized text is found, return that instead of the default text
                                LookUp(
                                    colUserLocalizedStrings,
                                    'English Value' = Text
                                ).'Localized Value'
                            )
                        )
                    Fill: =varThemeColors.secondaryGray
                    Height: =1
                    LayoutMinHeight: =
                    LayoutMinWidth: =
                    Width: =
                    ZIndex: =2

                conVendorDetailsPurchasingOrganizationEntry As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    Height: =
                    LayoutAlignItems: =LayoutAlignItems.Stretch
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: |-
                        =If(
                            varExpandPurchasingOrgs,
                            conVendorDetailsPurchasingOrgTableHeaders.Height + shpVendorDetailsPurchasingOrgMainDivider.Height + If(
                                galVendorDetailsPurchasingOrganizations.Visible,
                                galVendorDetailsPurchasingOrganizations.LayoutMinHeight,
                                cmpVendorDetailsPurchasingOrganizationsEntryNoItems.LayoutMinHeight
                            ) + Self.PaddingTop + Self.PaddingBottom,
                            0
                        )
                    LayoutMinWidth: =conVendorDetailsPurchasingOrgTableHeaders.LayoutMinWidth + Self.PaddingLeft + Self.PaddingRight
                    LayoutMode: =LayoutMode.Auto
                    PaddingBottom: =20
                    PaddingLeft: =16
                    PaddingRight: =16
                    Visible: =varExpandPurchasingOrgs
                    Width: =
                    ZIndex: =5

                    conVendorDetailsPurchasingOrgTableHeaders As groupContainer.horizontalAutoLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        BorderColor: =RGBA(0, 0, 0, 0)
                        BorderStyle: =BorderStyle.None
                        Fill: =RGBA(255, 255, 255, 1)
                        FillPortions: =0
                        Height: =43
                        LayoutAlignItems: =LayoutAlignItems.Center
                        LayoutMinHeight: =
                        LayoutMinWidth: =chbVendorDetailsPurchasingOrgsSelectAll.LayoutMinWidth + chbVendorDetailsPurchasingOrgsSelectAll.LayoutMinWidth + lblVendorDetailsPurchasingOrgCurrencyHeader.LayoutMinWidth + lblVendorDetailsPurchasingOrgPaymentTermsHeader.LayoutMinWidth + lblVendorDetailsPurchasingOrgGroupHeader.LayoutMinWidth + lblVendorDetailsPurchasingOrgDetailHeader.Width + 200
                        LayoutMode: =LayoutMode.Auto
                        PaddingBottom: =2
                        PaddingLeft: =2
                        PaddingRight: =2
                        PaddingTop: =2
                        Width: =
                        ZIndex: =1

                        chbVendorDetailsPurchasingOrgsSelectAll As checkbox:
                            CheckboxBorderColor: =varThemeColors.primaryGray
                            CheckboxSize: =20
                            Color: =varThemeColors.text
                            DisabledColor: =Self.Color
                            DisplayMode: |-
                                =If(
                                    And(
                                        CountRows(
                                            Filter(
                                                colVendorPurchasingOrgs,
                                                CrudType <> "D"
                                            )
                                        ) > 0,
                                        Or(
                                            varIsNew,
                                            varIsEdit
                                        ),
                                        !varIsProcessing
                                    ),
                                    DisplayMode.Edit,
                                    DisplayMode.Disabled
                                )
                            FocusedBorderColor: =varThemeColors.tertiaryGray
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Semibold
                            Height: =Parent.Height-Self.FocusedBorderThickness*2
                            HoverBorderColor: =
                            HoverColor: =Self.Color
                            HoverFill: =
                            LayoutMinWidth: =75
                            OnCheck: |-
                                =Set(
                                    varResetSelectPurchaseOrganizationRows,
                                    Self.Value
                                )
                            OnUncheck: |-
                                =Set(
                                    varResetSelectPurchaseOrganizationRows,
                                    Self.Value
                                )
                            PaddingBottom: =2
                            PressedColor: =Self.Color
                            Size: =10.5
                            Text: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: "Select"
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Tooltip: =Self.Text
                            Visible: =Or(varIsEdit,varIsNew)
                            Width: =Len(Self.Text) * 10 + Self.CheckboxSize
                            Y: =Self.FocusedBorderThickness
                            ZIndex: =1

                        lblVendorDetailsPurchasingOrgNameHeader As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =varThemeColors.text
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            FillPortions: =1
                            FocusedBorderColor: =varThemeColors.primary
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Semibold
                            Height: =Parent.Height
                            LayoutMinWidth: =Len(Self.Text) * 8 + 10
                            PaddingBottom: =0
                            PaddingLeft: =10
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =10.5
                            Text: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: "Purchasing organization"
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Width: =
                            Wrap: =false
                            ZIndex: =2

                        lblVendorDetailsPurchasingOrgCurrencyHeader As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =varThemeColors.text
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            FillPortions: =1
                            FocusedBorderColor: =varThemeColors.primary
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Semibold
                            Height: =Parent.Height
                            LayoutMinWidth: =Len(Self.Text) * 8 + 10
                            PaddingBottom: =0
                            PaddingLeft: =10
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =10.5
                            Text: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: "Currency"
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Width: =
                            Wrap: =false
                            ZIndex: =3

                        lblVendorDetailsPurchasingOrgPaymentTermsHeader As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =varThemeColors.text
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            FillPortions: =1
                            FocusedBorderColor: =varThemeColors.primary
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Semibold
                            Height: =Parent.Height
                            LayoutMinWidth: =Len(Self.Text) * 8 + 10
                            PaddingBottom: =0
                            PaddingLeft: =10
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =10.5
                            Text: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: "Payment terms"
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Width: =
                            Wrap: =false
                            ZIndex: =4

                        lblVendorDetailsPurchasingOrgGroupHeader As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =varThemeColors.text
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            FillPortions: =1
                            FocusedBorderColor: =varThemeColors.primary
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Semibold
                            Height: =Parent.Height
                            LayoutMinWidth: =Len(Self.Text) * 8 + 10
                            PaddingBottom: =0
                            PaddingLeft: =10
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =10.5
                            Text: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: "Purchasing group"
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Width: =
                            Wrap: =false
                            ZIndex: =5

                        lblVendorDetailsPurchasingOrgDetailHeader As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =varThemeColors.text
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            FocusedBorderColor: =varThemeColors.primary
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Semibold
                            Height: =Parent.Height
                            LayoutMinWidth: =75
                            PaddingBottom: =0
                            PaddingLeft: =4
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =10.5
                            Text: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: "Details"
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Width: =Len(Self.Text) * 16
                            Wrap: =false
                            ZIndex: =6

                    shpVendorDetailsPurchasingOrgMainDivider As rectangle:
                        AccessibleLabel: |-
                            =// Define a variable named "Text" with the value "{value}"
                            With(
                                {
                                    Text: "Divider"
                                },
                                If(
                                    // If the localized text is blank, return the default text
                                    IsBlank(
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    ),
                                    Text,
                                    // If a localized text is found, return that instead of the default text
                                    LookUp(
                                        colUserLocalizedStrings,
                                        'English Value' = Text
                                    ).'Localized Value'
                                )
                            )
                        Fill: =varThemeColors.secondaryGray
                        Height: =1
                        LayoutMinHeight: =
                        LayoutMinWidth: =
                        Width: =
                        ZIndex: =2

                    galVendorDetailsPurchasingOrganizations As gallery.galleryVertical:
                        AccessibleLabel: |-
                            =// Define a variable named "Text" with the value "{value}"
                            With(
                                {Text: "Search results"},
                                // Check if a localized text exists for "Text" in the user's preferred language
                                If(
                                    // If the localized text is blank, return the default text
                                    IsBlank(
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    ),
                                    Text,
                                    // If a localized text is found, return that instead of the default text
                                    LookUp(
                                        colUserLocalizedStrings,
                                        'English Value' = Text
                                    ).'Localized Value'
                                )
                            )
                        AlignInContainer: =AlignInContainer.SetByContainer
                        DisplayMode: |-
                            =If(
                                varIsProcessing,
                                DisplayMode.Disabled,
                                DisplayMode.Edit
                            )
                        FocusedBorderColor: =varThemeColors.tertiaryGray
                        FocusedBorderThickness: =2
                        Height: =
                        ItemAccessibleLabel: =ThisItem.PurchasingOrganization
                        Items: |-
                            =//Filter out deleted items
                            With(
                                {
                                    purchaseOrgs: Sort(
                                        Filter(
                                            colVendorPurchasingOrgs,
                                            CrudType <> "D"
                                        ),
                                        PurchasingOrganization
                                    )
                                },
                                //Search on fields if filtered text entered
                                If(
                                    IsBlank(txtVendorDetailsPurchasingOrgCommandBarFilter.Text),
                                    purchaseOrgs,
                                    Search(
                                        purchaseOrgs,
                                        txtVendorDetailsPurchasingOrgCommandBarFilter.Text,
                                        "Currency",
                                        "PaymentTerms",
                                        "PurchasingGroup",
                                        "PurchasingOrganization"
                                    )
                                )
                            )
                        Layout: =Layout.Vertical
                        LayoutMinHeight: |-
                            =CountRows(
                                Filter(
                                    colVendorPurchasingOrgs,
                                    CrudType <> "D"
                                )
                            ) * Self.TemplateHeight
                        LayoutMinWidth: =
                        TabIndex: =0
                        TemplateFill: |-
                            =If(
                                chbVendorDetailsPurchasingOrgsSelectRow.Value,
                                ColorFade(varThemeColors.secondaryGray,50%),
                                RGBA(
                                    0,
                                    0,
                                    0,
                                    0
                                )
                            )
                        TemplatePadding: =0
                        TemplateSize: =43
                        Visible: |-
                            =CountRows(
                                Filter(
                                    colVendorPurchasingOrgs,
                                    CrudType <> "D"
                                )
                            ) > 0
                        Width: =
                        ZIndex: =3

                        shpVendorDetailsPurchasingOrgDivider As rectangle:
                            AccessibleLabel: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: "Divider"
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Fill: =varThemeColors.secondaryGray
                            Height: =1
                            Width: =Parent.Width
                            Y: =Parent.TemplateHeight-Self.Height
                            ZIndex: =1

                        btnVendorDetailsEditPurchasingOrgRecord As button:
                            Align: =Align.Left
                            BorderColor: =RGBA(0,0,0,0)
                            Color: =varThemeColors.primary
                            DisabledBorderColor: =
                            DisabledColor: =varThemeColors.disabledText
                            DisabledFill: =
                            DisplayMode: |-
                                =If(
                                    varIsProcessing,
                                    DisplayMode.Disabled,
                                    DisplayMode.Edit
                                )
                            Fill: =RGBA(0, 0, 0, 0)
                            FocusedBorderColor: =varThemeColors.tertiaryGray
                            FocusedBorderThickness: =2
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Normal
                            Height: =Parent.TemplateHeight-Self.Y*2
                            HoverBorderColor: =
                            HoverColor: =varThemeColors.primary
                            HoverFill: =Color.Transparent
                            OnSelect: |-
                                =ClearCollect(
                                    colAppNavigationThreads,
                                    Table(
                                        {
                                            Screen: App.ActiveScreen,
                                            Order: CountRows(colAppNavigationThreads) + 1
                                        }
                                    )
                                );
                                Navigate(
                                    'Vendor Purchasing Org Details Screen',
                                    ScreenTransition.Cover,
                                    {_purchaseOrg: ThisItem}
                                )
                            PaddingLeft: =6
                            PressedColor: =Color.Black
                            PressedFill: =Color.Transparent
                            RadiusBottomLeft: =0
                            RadiusBottomRight: =0
                            RadiusTopLeft: =0
                            RadiusTopRight: =0
                            Size: =10.5
                            Text: |-
                                =With(
                                    {
                                        Text: If(
                                            Or(
                                                varIsNew,
                                                varIsEdit
                                            ),
                                            "Edit",
                                            "View"
                                        )
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Tooltip: =Self.Text
                            Width: =lblVendorDetailsPurchasingOrgDetailHeader.Width-Self.FocusedBorderThickness-15
                            X: =lblVendorDetailsPurchasingOrgGroup.X+lblVendorDetailsPurchasingOrgGroup.Width
                            Y: =Self.FocusedBorderThickness
                            ZIndex: =2

                        lblVendorDetailsPurchasingOrgGroup As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =varThemeColors.text
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            FocusedBorderColor: =varThemeColors.primary
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            Height: =Parent.TemplateHeight
                            PaddingBottom: =0
                            PaddingLeft: =12
                            PaddingTop: =0
                            Size: =10.5
                            Text: =ThisItem.PurchasingGroup
                            Width: =lblVendorDetailsPurchasingOrgGroupHeader.Width
                            Wrap: =false
                            X: =lblVendorDetailsPurchasingOrgPaymentTerms.X+lblVendorDetailsPurchasingOrgPaymentTerms.Width
                            ZIndex: =3

                        lblVendorDetailsPurchasingOrgPaymentTerms As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =varThemeColors.text
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            FocusedBorderColor: =varThemeColors.primary
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            Height: =Parent.TemplateHeight
                            PaddingBottom: =0
                            PaddingLeft: =12
                            PaddingTop: =0
                            Size: =10.5
                            Text: =ThisItem.PaymentTerms
                            Width: =lblVendorDetailsPurchasingOrgPaymentTermsHeader.Width
                            Wrap: =false
                            X: =lblVendorDetailsPurchasingOrgCurrency.X+lblVendorDetailsPurchasingOrgCurrency.Width
                            ZIndex: =4

                        lblVendorDetailsPurchasingOrgCurrency As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =varThemeColors.text
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            FocusedBorderColor: =varThemeColors.primary
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            Height: =Parent.TemplateHeight
                            PaddingBottom: =0
                            PaddingLeft: =12
                            PaddingTop: =0
                            Size: =10.5
                            Text: =ThisItem.Currency
                            Width: =lblVendorDetailsPurchasingOrgCurrencyHeader.Width
                            Wrap: =false
                            X: =lblVendorDetailsPurchasingOrgName.X+lblVendorDetailsPurchasingOrgName.Width
                            ZIndex: =5

                        lblVendorDetailsPurchasingOrgName As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =varThemeColors.text
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            FocusedBorderColor: =varThemeColors.primary
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            Height: =Parent.TemplateHeight
                            PaddingBottom: =0
                            PaddingLeft: =12
                            PaddingTop: =0
                            Size: =10.5
                            Text: =ThisItem.PurchasingOrganization
                            Width: =lblVendorDetailsPurchasingOrgNameHeader.Width
                            Wrap: =false
                            X: |-
                                =If(
                                    chbVendorDetailsPurchasingOrgsSelectRow.Visible,
                                    chbVendorDetailsPurchasingOrgsSelectRow.X * 2 + chbVendorDetailsPurchasingOrgsSelectRow.Width,
                                    0
                                )
                            ZIndex: =6

                        chbVendorDetailsPurchasingOrgsSelectRow As checkbox:
                            CheckboxBorderColor: =varThemeColors.primaryGray
                            CheckboxSize: =20
                            Color: =RGBA(0, 0, 0, 0)
                            Default: =varResetSelectPurchaseOrganizationRows
                            DisabledColor: =Self.Color
                            DisplayMode: =chbVendorDetailsPurchasingOrgsSelectAll.DisplayMode
                            FocusedBorderColor: =varThemeColors.tertiaryGray
                            Height: =Parent.TemplateHeight-Self.Y*2
                            HoverBorderColor: =
                            HoverColor: =Self.Color
                            HoverFill: =
                            OnCheck: =
                            OnSelect: =Select(Parent)
                            OnUncheck: =
                            PressedColor: =Self.Color
                            Text: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: If(
                                            Self.Value,
                                            "Unselect row",
                                            "Select row"
                                        )
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Tooltip: =Self.Text
                            Visible: =Or(varIsEdit,varIsNew)
                            Width: =chbVendorDetailsPurchasingOrgsSelectAll.Width-Self.X*2
                            X: =Self.FocusedBorderThickness
                            Y: =Self.FocusedBorderThickness
                            ZIndex: =7

                    cmpVendorDetailsPurchasingOrganizationsEntryNoItems As NoItemsDisplay:
                        Height: =215
                        LayoutMinHeight: =215
                        LayoutMinWidth: =
                        Visible: =!galVendorDetailsPurchasingOrganizations.Visible
                        Width: =
                        ZIndex: =4

            conVendorDetailsCompanyCodes As groupContainer.verticalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                Fill: =RGBA(255, 255, 255, 1)
                FillPortions: =0
                Height: |-
                    =If(
                        varExpandCompanyCodes,
                        conVendorCompanyDetailsCodesComandBar.Height + shpVendorDetailsCompanyCodesMainDivider.Height + conVendorDetailsCompanyCodesEntry.LayoutMinHeight,
                        conVendorCompanyDetailsCodesComandBar.Height
                    )
                LayoutAlignItems: =LayoutAlignItems.Stretch
                LayoutDirection: =LayoutDirection.Vertical
                LayoutMinHeight: =
                LayoutMinWidth: |-
                    =Max(
                        conVendorDetailsPurchasingOrganizationEntry.LayoutMinWidth + Self.PaddingLeft + Self.PaddingRight,
                        conVendorDetailsCompanyCodesEntry.LayoutMinWidth + Self.PaddingLeft + Self.PaddingRight,
                        conVendorDetailsPhonesEntry.LayoutMinWidth + Self.PaddingLeft + Self.PaddingRight,
                        conVendorDetailsEmailsEntry.LayoutMinWidth + Self.PaddingLeft + Self.PaddingRight
                    )
                LayoutMode: =LayoutMode.Auto
                Width: =
                ZIndex: =6

                conVendorCompanyDetailsCodesComandBar As groupContainer.horizontalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =39
                    LayoutAlignItems: =LayoutAlignItems.Stretch
                    LayoutMinHeight: =
                    LayoutMinWidth: =
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =2
                    PaddingRight: =2
                    Width: =
                    ZIndex: =1

                    conVendorDetailsCompanyCodesCommandBarLeft As groupContainer.horizontalAutoLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        Height: =Parent.Height
                        LayoutAlignItems: =LayoutAlignItems.Center
                        LayoutGap: =2
                        LayoutMinHeight: =0
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        PaddingLeft: =2
                        PaddingRight: =2
                        ZIndex: =5

                        "icoVendorDetailsCompanyCodesCommandBarLeftExpandCollapse As icon.'3DPrinting'":
                            AccessibleLabel: =Self.Tooltip
                            BorderColor: =varThemeColors.primary
                            Color: =varThemeColors.text
                            DisabledBorderColor: =varThemeColors.disabledText
                            DisabledColor: =varThemeColors.backgroundFillDisabled
                            DisabledFill: =RGBA(0,0,0,0)
                            DisplayMode: |-
                                =If(
                                    And(
                                        !varIsNew,
                                        Or(
                                            IsBlank(varVendorHeader),
                                            varIsProcessing
                                        )
                                    ),
                                    DisplayMode.Disabled,
                                    DisplayMode.Edit
                                )
                            Fill: =RGBA(0,0,0,0)
                            FocusedBorderColor: =varThemeColors.tertiaryGray
                            Height: =20  
                            HoverBorderColor: =varThemeColors.primary
                            HoverColor: =varThemeColors.primary
                            HoverFill: =RGBA(0,0,0,0)
                            Icon: |-
                                =If(
                                    varExpandCompanyCodes,
                                    Icon.ChevronDown,
                                    Icon.ChevronRight
                                )
                            LayoutMinHeight: =0
                            OnSelect: |-
                                =//Update variable that drives whether to show the subgrid or not
                                Set(
                                    varExpandCompanyCodes,
                                    !varExpandCompanyCodes
                                );
                                //Reset controls, toggle reset select row variables as a work around to not being able to reset controls within galleries
                                Set(
                                    varResetSelectCompanyCodeRows,
                                    true
                                );
                                Set(
                                    varResetSelectCompanyCodeRows,
                                    false
                                );
                                Reset(txtVendorDetailsCompanyCodesCommandBarFilter);
                                Reset(chbVendorDetailsCompanyCodesSelectAll);
                                If(
                                    And(
                                        varExpandCompanyCodes,
                                        Or(
                                            varIsNew,
                                            varIsEdit
                                        )
                                    ),
                                    SetFocus(btnVendorDetailsCompanyCodesAddButton),
                                    SetFocus(txtVendorDetailsCompanyCodesCommandBarFilter)
                                )
                            PaddingBottom: =3
                            PaddingLeft: =3
                            PaddingRight: =3
                            PaddingTop: =3
                            PressedBorderColor: =varThemeColors.primary
                            PressedColor: =varThemeColors.primary
                            PressedFill: =RGBA(0,0,0,0)
                            TabIndex: =0
                            Tooltip: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: If(
                                            varExpandCompanyCodes,
                                            "Collapse company codes",
                                            "Expand company codes"
                                        )
                                    },
                                    // Check if a localized text exists for "Text" in the user's preferred language
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Width: =20
                            Y: =Parent.Height/2-Self.Height/2
                            ZIndex: =1

                        lblVendorDetailsCompanyCodes As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =varThemeColors.text
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            FocusedBorderColor: =varThemeColors.primary
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Semibold
                            Height: =Parent.Height
                            PaddingBottom: =0
                            PaddingLeft: =0
                            PaddingRight: =0
                            PaddingTop: =0
                            Role: =TextRole.Heading2
                            Size: =10.5
                            Text: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: "Company codes"
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )&" *"
                            Width: =Len(Self.Text)*8
                            ZIndex: =2

                        conVendorDetailsCompanyCodesAddButton As groupContainer.manualLayoutContainer:
                            AlignInContainer: =AlignInContainer.SetByContainer
                            FillPortions: =0
                            Height: =Parent.Height
                            LayoutMinHeight: =100
                            LayoutMinWidth: =250
                            Visible: |-
                                =And(
                                    Or(
                                        varIsEdit,
                                        varIsNew
                                    ),
                                    varExpandCompanyCodes
                                )
                            Width: =Len(btnVendorDetailsCompanyCodesAddButton.Text) * 10 + btnVendorDetailsCompanyCodesAddButton.PaddingLeft + btnVendorDetailsCompanyCodesAddButton.PaddingRight
                            ZIndex: =3

                            icoVendorDetailsCompanyCodesAddButton As icon.Save:
                                AccessibleLabel: |-
                                    =// Define a variable named "Text" with the value "{value}"
                                    With(
                                        {Text: "Add"},
                                        // Check if a localized text exists for "Text" in the user's preferred language
                                        If(
                                            // If the localized text is blank, return the default text
                                            IsBlank(
                                                LookUp(
                                                    colUserLocalizedStrings,
                                                    'English Value' = Text
                                                ).'Localized Value'
                                            ),
                                            Text,
                                            // If a localized text is found, return that instead of the default text
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        )
                                    )
                                Color: =varThemeColors.primary
                                DisabledColor: =varThemeColors.disabledText
                                DisplayMode: |-
                                    =If(
                                        varIsProcessing,
                                        DisplayMode.Disabled,
                                        DisplayMode.Edit
                                    )
                                FocusedBorderColor: =varThemeColors.primary
                                Height: =16
                                Icon: =Icon.Add
                                Width: =16
                                X: =5
                                Y: =btnVendorDetailsCompanyCodesAddButton.Y+btnVendorDetailsCompanyCodesAddButton.Height/2-Self.Height/2
                                ZIndex: =1

                            btnVendorDetailsCompanyCodesAddButton As button:
                                Align: =Align.Left
                                BorderColor: =RGBA(0,0,0,0)
                                Color: =varThemeColors.text
                                DisabledBorderColor: =
                                DisabledColor: =varThemeColors.disabledText
                                DisabledFill: =
                                DisplayMode: |-
                                    =If(
                                        varIsProcessing,
                                        DisplayMode.Disabled,
                                        DisplayMode.Edit
                                    )
                                Fill: =RGBA(0, 0, 0, 0)
                                FocusedBorderColor: =varThemeColors.tertiaryGray
                                FocusedBorderThickness: =2
                                Font: =Font.'Segoe UI'
                                FontWeight: =FontWeight.Normal
                                Height: =Parent.Height-Self.Y*2
                                HoverBorderColor: =
                                HoverColor: =varThemeColors.primary
                                HoverFill: =Color.Transparent
                                OnSelect: |-
                                    =//Collection that tracks cross screen navigation thread and allows to back out in reverse sequence
                                    ClearCollect(
                                        colAppNavigationThreads,
                                        Table(
                                            {
                                                Screen: App.ActiveScreen,
                                                Order: CountRows(colAppNavigationThreads) + 1
                                            }
                                        )
                                    );
                                    Set(
                                        varSelectedGLAccount,
                                        Blank()
                                    );
                                    Reset(cmbVendorCompanyCodeDetails);
                                    Reset(cmbVendorCompanyCodeDetailsPaymentTerms);
                                    Reset(cmbVendorCompanyCodeDetailsPaymentMethods);
                                    Navigate(
                                        'Vendor Company Code Details Screen',
                                        ScreenTransition.Cover,
                                        {_companyCode: Blank(),_reset:true}
                                    )
                                PaddingLeft: =icoVendorDetailsCompanyCodesAddButton.X + icoVendorDetailsCompanyCodesAddButton.Width + 8
                                PressedColor: =Color.Black
                                PressedFill: =Color.Transparent
                                RadiusBottomLeft: =0
                                RadiusBottomRight: =0
                                RadiusTopLeft: =0
                                RadiusTopRight: =0
                                Size: =10.5
                                Text: |-
                                    =With(
                                        {Text: "Add"},
                                        If(
                                            // If the localized text is blank, return the default text
                                            IsBlank(
                                                LookUp(
                                                    colUserLocalizedStrings,
                                                    'English Value' = Text
                                                ).'Localized Value'
                                            ),
                                            Text,
                                            // If a localized text is found, return that instead of the default text
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        )
                                    )
                                Tooltip: =Self.Text
                                Width: =Parent.Width-Self.X*2
                                X: =Self.FocusedBorderThickness
                                Y: =Self.FocusedBorderThickness
                                ZIndex: =2

                        conVendorDetailsCompanyCodesDeleteButton As groupContainer.manualLayoutContainer:
                            AlignInContainer: =AlignInContainer.SetByContainer
                            FillPortions: =0
                            Height: =Parent.Height
                            LayoutMinHeight: =100
                            LayoutMinWidth: =250
                            Visible: |-
                                =//Make the button visible only if the following conditions are true
                                And(
                                    varExpandCompanyCodes,
                                    Or(//if a record is being created or updated
                                        varIsEdit,
                                        varIsNew
                                    ),
                                    !IsEmpty(//if one or more rows is selected
                                        Filter(
                                            galVendorDetailsCompanyCodes.AllItems,
                                            chbVendorDetailsCompanyCodesSelectRow.Value
                                        )
                                    )
                                )
                            Width: =Len(btnVendorDetailsCompanyCodesDeleteButton.Text) * 10 + btnVendorDetailsCompanyCodesDeleteButton.PaddingLeft
                            ZIndex: =4

                            icoVendorDetailsCompanyCodesDeleteButton As icon.Save:
                                AccessibleLabel: |-
                                    =// Define a variable named "Text" with the value "{value}"
                                    With(
                                        {Text: "Delete"},
                                        // Check if a localized text exists for "Text" in the user's preferred language
                                        If(
                                            // If the localized text is blank, return the default text
                                            IsBlank(
                                                LookUp(
                                                    colUserLocalizedStrings,
                                                    'English Value' = Text
                                                ).'Localized Value'
                                            ),
                                            Text,
                                            // If a localized text is found, return that instead of the default text
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        )
                                    )
                                Color: =varThemeColors.primary
                                DisabledColor: =varThemeColors.disabledText
                                DisplayMode: |-
                                    =If(
                                        varIsProcessing,
                                        DisplayMode.Disabled,
                                        DisplayMode.Edit
                                    )
                                FocusedBorderColor: =varThemeColors.primary
                                Height: =16
                                Icon: =Icon.Cancel
                                Width: =16
                                X: =5
                                Y: =btnVendorDetailsCompanyCodesDeleteButton.Y+btnVendorDetailsCompanyCodesDeleteButton.Height/2-Self.Height/2
                                ZIndex: =1

                            btnVendorDetailsCompanyCodesDeleteButton As button:
                                Align: =Align.Left
                                BorderColor: =RGBA(0,0,0,0)
                                Color: =varThemeColors.text
                                DisabledBorderColor: =
                                DisabledColor: =varThemeColors.disabledText
                                DisabledFill: =
                                DisplayMode: |-
                                    =If(
                                        varIsProcessing,
                                        DisplayMode.Disabled,
                                        DisplayMode.Edit
                                    )
                                Fill: =RGBA(0, 0, 0, 0)
                                FocusedBorderColor: =varThemeColors.tertiaryGray
                                FocusedBorderThickness: =2
                                Font: =Font.'Segoe UI'
                                FontWeight: =FontWeight.Normal
                                Height: =Parent.Height-Self.Y*2
                                HoverBorderColor: =
                                HoverColor: =varThemeColors.primary
                                HoverFill: =Color.Transparent
                                OnSelect: |+
                                    =RemoveIf(
                                        colVendorCompanyCodes,
                                        And(
                                            ID in Filter(
                                                galVendorDetailsCompanyCodes.AllItems,
                                                chbVendorDetailsCompanyCodesSelectRow.Value = true
                                            ).ID,
                                            CrudType = "C"
                                        )
                                    );
                                    UpdateIf(
                                        colVendorCompanyCodes,
                                        ID in Filter(
                                            galVendorDetailsCompanyCodes.AllItems,
                                            chbVendorDetailsCompanyCodesSelectRow.Value = true
                                        ).ID,
                                        {CrudType: "D"}
                                    );
                                    
                                PaddingLeft: =icoVendorDetailsCompanyCodesDeleteButton.X + icoVendorDetailsCompanyCodesDeleteButton.Width + 8
                                PressedColor: =Color.Black
                                PressedFill: =Color.Transparent
                                RadiusBottomLeft: =0
                                RadiusBottomRight: =0
                                RadiusTopLeft: =0
                                RadiusTopRight: =0
                                Size: =10.5
                                Text: |-
                                    =With(
                                        {Text: "Delete"},
                                        If(
                                            // If the localized text is blank, return the default text
                                            IsBlank(
                                                LookUp(
                                                    colUserLocalizedStrings,
                                                    'English Value' = Text
                                                ).'Localized Value'
                                            ),
                                            Text,
                                            // If a localized text is found, return that instead of the default text
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        )
                                    )
                                Tooltip: =Self.Text
                                Width: =Parent.Width-Self.X*2
                                X: =Self.FocusedBorderThickness
                                Y: =Self.FocusedBorderThickness
                                ZIndex: =2

                    conVendorDetailsCompanyCodesCommandBarFilter As groupContainer.manualLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        FillPortions: =0
                        Height: =Parent.Height
                        LayoutMinHeight: =0
                        LayoutMinWidth: =250
                        Width: =txtVendorDetailsCompanyCodesCommandBarFilter.X+txtVendorDetailsCompanyCodesCommandBarFilter.Width+txtVendorDetailsCompanyCodesCommandBarFilter.FocusedBorderThickness
                        ZIndex: =6

                        txtVendorDetailsCompanyCodesCommandBarFilter As text:
                            AccessibleLabel: =Self.HintText
                            BorderColor: =varThemeColors.primaryGray
                            BorderThickness: =1
                            Clear: =true
                            Color: =varThemeColors.text
                            Default: =
                            DelayOutput: =true
                            DisabledBorderColor: =varThemeColors.primaryGray
                            DisabledColor: =varThemeColors.disabledText
                            DisabledFill: =varThemeColors.backgroundFillDisabled
                            DisplayMode: |-
                                =If(
                                    And(
                                        galVendorDetailsCompanyCodes.Visible,
                                        varExpandCompanyCodes
                                    ),
                                    DisplayMode.Edit,
                                    DisplayMode.Disabled
                                )
                            Fill: =varThemeColors.backgroundFill
                            FocusedBorderThickness: =2
                            Font: =Font.'Segoe UI'
                            Height: =30
                            HintText: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {Text: "Filter company codes"},
                                    // Check if a localized text exists for "Text" in the user's preferred language
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            HoverBorderColor: =Self.BorderColor
                            HoverColor: =varThemeColors.text
                            HoverFill: =varThemeColors.backgroundFill
                            MaxLength: =70
                            OnChange: =
                            PaddingBottom: =6
                            PaddingLeft: =8
                            PaddingRight: =8
                            PaddingTop: =6
                            PressedBorderColor: =Self.BorderColor
                            PressedColor: =
                            PressedFill: =varThemeColors.backgroundFill
                            RadiusBottomLeft: =0
                            RadiusBottomRight: =0
                            RadiusTopLeft: =0
                            RadiusTopRight: =0
                            Reset: =true
                            Size: =10.5
                            Tooltip: |-
                                =Coalesce(
                                    Self.Text,
                                    Self.HintText
                                )
                            Width: =248
                            X: =shpVendorDetailsCompanyCodesCommandBarFilter.X+shpVendorDetailsCompanyCodesCommandBarFilter.Width+7
                            Y: =Parent.Height/2-Self.Height/2
                            ZIndex: =1

                        shpVendorDetailsCompanyCodesCommandBarFilter As rectangle:
                            AccessibleLabel: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: "Divider"
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Fill: =varThemeColors.secondaryGray
                            Height: =30
                            OnSelect: =
                            Width: =2
                            Y: =6
                            ZIndex: =2

                shpVendorDetailsCompanyCodesMainDivider As rectangle:
                    AccessibleLabel: |-
                        =// Define a variable named "Text" with the value "{value}"
                        With(
                            {
                                Text: "Divider"
                            },
                            If(
                                // If the localized text is blank, return the default text
                                IsBlank(
                                    LookUp(
                                        colUserLocalizedStrings,
                                        'English Value' = Text
                                    ).'Localized Value'
                                ),
                                Text,
                                // If a localized text is found, return that instead of the default text
                                LookUp(
                                    colUserLocalizedStrings,
                                    'English Value' = Text
                                ).'Localized Value'
                            )
                        )
                    Fill: =varThemeColors.secondaryGray
                    Height: =1
                    LayoutMinHeight: =
                    LayoutMinWidth: =
                    Width: =
                    ZIndex: =2

                conVendorDetailsCompanyCodesEntry As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    Height: =
                    LayoutAlignItems: =LayoutAlignItems.Stretch
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: |-
                        =conVendorDetailsCompanyCodesEntryTableHeader.Height + shpVendorDetailsCompanyCodesEntryTableDivider.Height + If(
                            galVendorDetailsCompanyCodes.Visible,
                            galVendorDetailsCompanyCodes.LayoutMinHeight,
                            cmpVendorCompanyCodesEntryNoItems.LayoutMinHeight
                        ) + Self.PaddingTop + Self.PaddingBottom
                    LayoutMinWidth: =conVendorDetailsCompanyCodesEntryTableHeader.LayoutMinWidth + Self.PaddingLeft + Self.PaddingRight
                    LayoutMode: =LayoutMode.Auto
                    PaddingBottom: =20
                    PaddingLeft: =16
                    PaddingRight: =16
                    Visible: =varExpandCompanyCodes
                    Width: =
                    ZIndex: =5

                    conVendorDetailsCompanyCodesEntryTableHeader As groupContainer.horizontalAutoLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        BorderColor: =RGBA(0, 0, 0, 0)
                        BorderStyle: =BorderStyle.None
                        Fill: =RGBA(255, 255, 255, 1)
                        FillPortions: =0
                        Height: =43
                        LayoutAlignItems: =LayoutAlignItems.Center
                        LayoutMinHeight: =100
                        LayoutMinWidth: =chbVendorDetailsCompanyCodesSelectAll.LayoutMinWidth + lblVendorDetailsCompanyCodeHeader.LayoutMinWidth + lblVendorDetailsCompanyCodeGLAccountHeader.LayoutMinWidth + lblVendorDetailsCompanyCodePaymentMethodsHeader.LayoutMinWidth + lblVendorDetailsCompanyCodePaymentTermsHeader.LayoutMinWidth + lblVendorDetailsCompanyCodeDetailHeader.Width + 200
                        LayoutMode: =LayoutMode.Auto
                        PaddingBottom: =2
                        PaddingLeft: =2
                        PaddingRight: =2
                        PaddingTop: =2
                        Width: =
                        ZIndex: =1

                        chbVendorDetailsCompanyCodesSelectAll As checkbox:
                            CheckboxBorderColor: =varThemeColors.primaryGray
                            CheckboxSize: =20
                            Color: =varThemeColors.text
                            DisabledColor: =Self.Color
                            DisplayMode: |-
                                =If(
                                    And(
                                        CountRows(
                                            Filter(
                                                colVendorCompanyCodes,
                                                CrudType <> "D"
                                            )
                                        ) > 0,
                                        Or(
                                            varIsNew,
                                            varIsEdit
                                        ),
                                        !varIsProcessing
                                    ),
                                    DisplayMode.Edit,
                                    DisplayMode.Disabled
                                )
                            FocusedBorderColor: =varThemeColors.tertiaryGray
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Semibold
                            Height: =Parent.Height-Self.FocusedBorderThickness*2
                            HoverBorderColor: =
                            HoverColor: =Self.Color
                            HoverFill: =
                            LayoutMinWidth: =75
                            OnCheck: |-
                                =Set(
                                    varResetSelectCompanyCodeRows,
                                    Self.Value
                                )
                            OnUncheck: |-
                                =Set(
                                    varResetSelectCompanyCodeRows,
                                    Self.Value
                                )
                            PaddingBottom: =2
                            PressedColor: =Self.Color
                            Size: =10.5
                            Text: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: "Select"
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Tooltip: =Self.Text
                            Visible: =Or(varIsEdit,varIsNew)
                            Width: =Len(Self.Text) * 10 + Self.CheckboxSize
                            X: =Self.FocusedBorderThickness
                            Y: =Self.FocusedBorderThickness
                            ZIndex: =1

                        lblVendorDetailsCompanyCodeHeader As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =varThemeColors.text
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            FillPortions: =1
                            FocusedBorderColor: =varThemeColors.primary
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Semibold
                            Height: =Parent.Height
                            LayoutMinWidth: =Len(Self.Text) * 8 + 10
                            PaddingBottom: =0
                            PaddingLeft: =10
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =10.5
                            Text: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: "Company code"
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Width: =
                            Wrap: =false
                            ZIndex: =2

                        lblVendorDetailsCompanyCodeGLAccountHeader As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =varThemeColors.text
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            FillPortions: =1
                            FocusedBorderColor: =varThemeColors.primary
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Semibold
                            Height: =Parent.Height
                            LayoutMinWidth: =Len(Self.Text) * 8 + 10
                            PaddingBottom: =0
                            PaddingLeft: =10
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =10.5
                            Text: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: "General ledger account"
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Width: =
                            Wrap: =false
                            ZIndex: =3

                        lblVendorDetailsCompanyCodePaymentMethodsHeader As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =varThemeColors.text
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            FillPortions: =1
                            FocusedBorderColor: =varThemeColors.primary
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Semibold
                            Height: =Parent.Height
                            LayoutMinWidth: =Len(Self.Text) * 8 + 10
                            PaddingBottom: =0
                            PaddingLeft: =10
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =10.5
                            Text: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: "Payment methods"
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Width: =
                            Wrap: =false
                            ZIndex: =4

                        lblVendorDetailsCompanyCodePaymentTermsHeader As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =varThemeColors.text
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            FillPortions: =1
                            FocusedBorderColor: =varThemeColors.primary
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Semibold
                            Height: =Parent.Height
                            LayoutMinWidth: =Len(Self.Text) * 8 + 10
                            PaddingBottom: =0
                            PaddingLeft: =10
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =10.5
                            Text: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: "Payment terms"
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Width: =
                            Wrap: =false
                            ZIndex: =5

                        lblVendorDetailsCompanyCodeDetailHeader As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =varThemeColors.text
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            FocusedBorderColor: =varThemeColors.primary
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Semibold
                            Height: =Parent.Height
                            LayoutMinWidth: =75
                            PaddingBottom: =0
                            PaddingLeft: =4
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =10.5
                            Text: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: "Details"
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Width: =Len(Self.Text) * 16
                            Wrap: =false
                            ZIndex: =6

                    shpVendorDetailsCompanyCodesEntryTableDivider As rectangle:
                        AccessibleLabel: ="N/A"
                        Fill: =varThemeColors.secondaryGray
                        Height: =1
                        LayoutMinWidth: =
                        Width: =
                        ZIndex: =2

                    galVendorDetailsCompanyCodes As gallery.galleryVertical:
                        AccessibleLabel: |-
                            =// Define a variable named "Text" with the value "{value}"
                            With(
                                {Text: "Search results"},
                                // Check if a localized text exists for "Text" in the user's preferred language
                                If(
                                    // If the localized text is blank, return the default text
                                    IsBlank(
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    ),
                                    Text,
                                    // If a localized text is found, return that instead of the default text
                                    LookUp(
                                        colUserLocalizedStrings,
                                        'English Value' = Text
                                    ).'Localized Value'
                                )
                            )
                        AlignInContainer: =AlignInContainer.SetByContainer
                        DisplayMode: |-
                            =If(
                                varIsProcessing,
                                DisplayMode.Disabled,
                                DisplayMode.Edit
                            )
                        FocusedBorderColor: =varThemeColors.tertiaryGray
                        FocusedBorderThickness: =2
                        Height: =
                        ItemAccessibleLabel: =ThisItem.CompanyCode
                        Items: |-
                            =//Filter out deleted items
                            With(
                                {
                                    purchaseOrgs: Sort(
                                        Filter(
                                            colVendorCompanyCodes,
                                            CrudType <> "D"
                                        ),
                                        CompanyCode
                                    )
                                },
                                //Search on fields if filtered text entered
                                If(
                                    IsBlank(txtVendorDetailsCompanyCodesCommandBarFilter.Text),
                                    purchaseOrgs,
                                    Search(
                                        purchaseOrgs,
                                        txtVendorDetailsCompanyCodesCommandBarFilter.Text,
                                        "CompanyCode",
                                        "GLAccount",
                                        "PaymentMethods",
                                        "PaymentTerms"
                                    )
                                )
                            )
                        Layout: =Layout.Vertical
                        LayoutMinHeight: |-
                            =CountRows(
                                Filter(
                                    colVendorCompanyCodes,
                                    CrudType <> "D"
                                )
                            ) * Self.TemplateHeight
                        LayoutMinWidth: =
                        TabIndex: =0
                        TemplateFill: |-
                            =If(
                                chbVendorDetailsCompanyCodesSelectRow.Value,
                                ColorFade(varThemeColors.secondaryGray,50%),
                                RGBA(
                                    0,
                                    0,
                                    0,
                                    0
                                )
                            )
                        TemplatePadding: =0
                        TemplateSize: =43
                        Visible: |-
                            =CountRows(Filter(
                                    colVendorCompanyCodes,
                                    CrudType <> "D"
                                ))>0
                        Width: =
                        ZIndex: =3

                        shpVendorDetailsCompanyCodeDivider As rectangle:
                            AccessibleLabel: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: "Divider"
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Fill: =varThemeColors.secondaryGray
                            Height: =1
                            Width: =Parent.Width
                            Y: =Parent.TemplateHeight-Self.Height
                            ZIndex: =1

                        btnVendorDetailsEditCompanyCodeRecord As button:
                            Align: =Align.Left
                            BorderColor: =RGBA(0,0,0,0)
                            Color: =varThemeColors.primary
                            DisabledBorderColor: =
                            DisabledColor: =varThemeColors.disabledText
                            DisabledFill: =
                            DisplayMode: |-
                                =If(
                                    varIsProcessing,
                                    DisplayMode.Disabled,
                                    DisplayMode.Edit
                                )
                            Fill: =RGBA(0, 0, 0, 0)
                            FocusedBorderColor: =varThemeColors.tertiaryGray
                            FocusedBorderThickness: =2
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Normal
                            Height: =Parent.TemplateHeight-Self.Y*2
                            HoverBorderColor: =
                            HoverColor: =varThemeColors.primary
                            HoverFill: =Color.Transparent
                            OnSelect: |-
                                =Set(
                                    varSelectedGLAccount,
                                    {
                                        Account: ThisItem.GLAccount
                                    }
                                );
                                ClearCollect(
                                    colAppNavigationThreads,
                                    Table(
                                        {
                                            Screen: App.ActiveScreen,
                                            Order: CountRows(colAppNavigationThreads) + 1
                                        }
                                    )
                                );
                                Navigate(
                                    'Vendor Company Code Details Screen',
                                    ScreenTransition.Cover,
                                    {
                                        _companyCode: ThisItem,
                                        _reset: true
                                    }
                                )
                            PaddingLeft: =6
                            PressedColor: =Color.Black
                            PressedFill: =Color.Transparent
                            RadiusBottomLeft: =0
                            RadiusBottomRight: =0
                            RadiusTopLeft: =0
                            RadiusTopRight: =0
                            Size: =10.5
                            Text: |-
                                =With(
                                    {
                                        Text: If(
                                            Or(
                                                varIsNew,
                                                varIsEdit
                                            ),
                                            "Edit",
                                            "View"
                                        )
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Tooltip: =Self.Text
                            Width: =lblVendorDetailsCompanyCodeDetailHeader.Width-Self.FocusedBorderThickness-15
                            X: =lblVendorDetailsCompanyCodePaymentTerms.X+lblVendorDetailsCompanyCodePaymentTerms.Width
                            Y: =Self.FocusedBorderThickness
                            ZIndex: =2

                        lblVendorDetailsCompanyCodePaymentTerms As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =varThemeColors.text
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            FocusedBorderColor: =varThemeColors.primary
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            Height: =Parent.TemplateHeight
                            PaddingBottom: =0
                            PaddingLeft: =12
                            PaddingTop: =0
                            Size: =10.5
                            Text: =ThisItem.PaymentTerms
                            Width: =lblVendorDetailsCompanyCodePaymentTermsHeader.Width
                            Wrap: =false
                            X: =lblVendorDetailsCompanyCodePaymentMethods.X+lblVendorDetailsCompanyCodePaymentMethods.Width
                            ZIndex: =3

                        lblVendorDetailsCompanyCodePaymentMethods As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =varThemeColors.text
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            FocusedBorderColor: =varThemeColors.primary
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            Height: =Parent.TemplateHeight
                            PaddingBottom: =0
                            PaddingLeft: =12
                            PaddingTop: =0
                            Size: =10.5
                            Text: =ThisItem.PaymentMethods
                            Width: =lblVendorDetailsCompanyCodePaymentMethodsHeader.Width
                            Wrap: =false
                            X: =lblVendorDetailsCompanyCodeGLAccount.X+lblVendorDetailsCompanyCodeGLAccount.Width
                            ZIndex: =4

                        lblVendorDetailsCompanyCodeGLAccount As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =varThemeColors.text
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            FocusedBorderColor: =varThemeColors.primary
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            Height: =Parent.TemplateHeight
                            PaddingBottom: =0
                            PaddingLeft: =12
                            PaddingTop: =0
                            Size: =10.5
                            Text: =ThisItem.GLAccount
                            Width: =lblVendorDetailsCompanyCodeGLAccountHeader.Width
                            Wrap: =false
                            X: =lblVendorDetailsCompanyCode.X+lblVendorDetailsCompanyCode.Width
                            ZIndex: =5

                        lblVendorDetailsCompanyCode As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =varThemeColors.text
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            FocusedBorderColor: =varThemeColors.primary
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            Height: =Parent.TemplateHeight
                            PaddingBottom: =0
                            PaddingLeft: =12
                            PaddingTop: =0
                            Size: =10.5
                            Text: =ThisItem.CompanyCode
                            Width: =lblVendorDetailsCompanyCodeHeader.Width
                            Wrap: =false
                            X: |-
                                =If(
                                    chbVendorDetailsCompanyCodesSelectRow.Visible,
                                    chbVendorDetailsCompanyCodesSelectRow.X * 2 + chbVendorDetailsCompanyCodesSelectRow.Width,
                                    0
                                )
                            ZIndex: =6

                        chbVendorDetailsCompanyCodesSelectRow As checkbox:
                            CheckboxBorderColor: =varThemeColors.primaryGray
                            CheckboxSize: =20
                            Color: =RGBA(0, 0, 0, 0)
                            Default: =varResetSelectCompanyCodeRows
                            DisabledColor: =Self.Color
                            DisplayMode: =chbVendorDetailsCompanyCodesSelectAll.DisplayMode
                            FocusedBorderColor: =varThemeColors.tertiaryGray
                            Height: =Parent.TemplateHeight-Self.Y*2
                            HoverBorderColor: =
                            HoverColor: =Self.Color
                            HoverFill: =
                            OnCheck: =
                            OnUncheck: =
                            PressedColor: =Self.Color
                            Reset: =true
                            Text: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: If(
                                            Self.Value,
                                            "Unselect row",
                                            "Select row"
                                        )
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Tooltip: =Self.Text
                            Visible: =Or(varIsEdit,varIsNew)
                            Width: =chbVendorDetailsCompanyCodesSelectAll.Width-Self.X*2
                            X: =Self.FocusedBorderThickness
                            Y: =Self.FocusedBorderThickness
                            ZIndex: =7

                    cmpVendorCompanyCodesEntryNoItems As NoItemsDisplay:
                        Height: =215
                        LayoutMinHeight: =215
                        LayoutMinWidth: =
                        Visible: =!galVendorDetailsCompanyCodes.Visible
                        Width: =
                        ZIndex: =4

            conVendorDetailsPhones As groupContainer.verticalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                Fill: =RGBA(255, 255, 255, 1)
                FillPortions: =0
                Height: |-
                    =If(
                        varExpandPhones,
                        conVendorDetailsPhonesEntry.LayoutMinHeight + shpVendorDetailsPhonesMainDivider.Height + conVendorDetailsPhonesComandBar.Height,
                        conVendorDetailsPhonesComandBar.Height
                    )
                LayoutAlignItems: =LayoutAlignItems.Stretch
                LayoutDirection: =LayoutDirection.Vertical
                LayoutMinHeight: =
                LayoutMinWidth: |-
                    =Max(
                        conVendorDetailsPurchasingOrganizationEntry.LayoutMinWidth + Self.PaddingLeft + Self.PaddingRight,
                        conVendorDetailsCompanyCodesEntry.LayoutMinWidth + Self.PaddingLeft + Self.PaddingRight,
                        conVendorDetailsPhonesEntry.LayoutMinWidth + Self.PaddingLeft + Self.PaddingRight,
                        conVendorDetailsEmailsEntry.LayoutMinWidth + Self.PaddingLeft + Self.PaddingRight
                    )
                LayoutMode: =LayoutMode.Auto
                Width: =
                ZIndex: =7

                conVendorDetailsPhonesComandBar As groupContainer.horizontalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =39
                    LayoutAlignItems: =LayoutAlignItems.Center
                    LayoutMinHeight: =
                    LayoutMinWidth: =
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =2
                    PaddingRight: =2
                    Width: =
                    ZIndex: =1

                    conVendorDetailsPhonesComandBarLeft As groupContainer.horizontalAutoLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        Height: =Parent.Height
                        LayoutAlignItems: =LayoutAlignItems.Center
                        LayoutGap: =2
                        LayoutMinHeight: =0
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        PaddingLeft: =2
                        PaddingRight: =2
                        ZIndex: =2

                        "icoVendorDetailsPhonesCommandBarLeftExpandCollapse As icon.'3DPrinting'":
                            AccessibleLabel: =Self.Tooltip
                            BorderColor: =varThemeColors.primary
                            Color: =varThemeColors.text
                            DisabledBorderColor: =varThemeColors.disabledText
                            DisabledColor: =varThemeColors.backgroundFillDisabled
                            DisabledFill: =RGBA(0,0,0,0)
                            DisplayMode: |-
                                =If(
                                    And(
                                        !varIsNew,
                                        Or(
                                            IsBlank(varVendorHeader),
                                            varIsProcessing
                                        )
                                    ),
                                    DisplayMode.Disabled,
                                    DisplayMode.Edit
                                )
                            Fill: =RGBA(0,0,0,0)
                            FocusedBorderColor: =varThemeColors.tertiaryGray
                            Height: =20  
                            HoverBorderColor: =varThemeColors.primary
                            HoverColor: =varThemeColors.primary
                            HoverFill: =RGBA(0,0,0,0)
                            Icon: |-
                                =If(
                                    varExpandPhones,
                                    Icon.ChevronDown,
                                    Icon.ChevronRight
                                )
                            LayoutMinHeight: =0
                            OnSelect: |
                                =//Update variable that drives whether to show the subgrid or not
                                Set(
                                    varExpandPhones,
                                    !varExpandPhones
                                );
                                //Reset controls, toggle reset select row variables as a work around to not being able to reset controls within galleries
                                Set(
                                    varResetSelectPhoneRows,
                                    true
                                );
                                Set(
                                    varResetSelectPhoneRows,
                                    false
                                );
                                Reset(txtVendorDetailsPhonesCommandBarFilter);
                                Reset(chbVendorDetailsPhonesSelectAll);
                                If(
                                    And(
                                        varExpandPhones,
                                        Or(
                                            varIsNew,
                                            varIsEdit
                                        )
                                    ),
                                    SetFocus(btnVendorDetailsPhonesAddButton),
                                    SetFocus(txtVendorDetailsPhonesCommandBarFilter)
                                )
                            PaddingBottom: =3
                            PaddingLeft: =3
                            PaddingRight: =3
                            PaddingTop: =3
                            PressedBorderColor: =varThemeColors.primary
                            PressedColor: =varThemeColors.primary
                            PressedFill: =RGBA(0,0,0,0)
                            TabIndex: =0
                            Tooltip: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: If(
                                            varExpandPhones,
                                            "Collapse phones",
                                            "Expand phones"
                                        )
                                    },
                                    // Check if a localized text exists for "Text" in the user's preferred language
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Width: =20
                            Y: =Parent.Height/2-Self.Height/2
                            ZIndex: =1

                        lblVendorDetailsPhones As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =varThemeColors.text
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            FocusedBorderColor: =varThemeColors.primary
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Semibold
                            Height: =Parent.Height
                            PaddingBottom: =0
                            PaddingLeft: =0
                            PaddingRight: =0
                            PaddingTop: =0
                            Role: =TextRole.Heading2
                            Size: =10.5
                            Text: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: "Phones"
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Width: =Len(Self.Text)*8
                            ZIndex: =2

                        conVendorDetailsPhonesAddButton As groupContainer.manualLayoutContainer:
                            AlignInContainer: =AlignInContainer.SetByContainer
                            FillPortions: =0
                            Height: =Parent.Height
                            LayoutMinHeight: =100
                            LayoutMinWidth: =250
                            Visible: |-
                                =And(
                                    Or(
                                        varIsEdit,
                                        varIsNew
                                    ),
                                    varExpandPhones
                                )
                            Width: =Len(btnVendorDetailsPhonesAddButton.Text) * 10 + btnVendorDetailsPhonesAddButton.PaddingLeft + btnVendorDetailsPhonesAddButton.PaddingRight
                            ZIndex: =3

                            icoVendorDetailsPhonesAddButton As icon.Save:
                                AccessibleLabel: |-
                                    =// Define a variable named "Text" with the value "{value}"
                                    With(
                                        {Text: "Add"},
                                        // Check if a localized text exists for "Text" in the user's preferred language
                                        If(
                                            // If the localized text is blank, return the default text
                                            IsBlank(
                                                LookUp(
                                                    colUserLocalizedStrings,
                                                    'English Value' = Text
                                                ).'Localized Value'
                                            ),
                                            Text,
                                            // If a localized text is found, return that instead of the default text
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        )
                                    )
                                Color: =varThemeColors.primary
                                DisabledColor: =varThemeColors.disabledText
                                DisplayMode: |-
                                    =If(
                                        varIsProcessing,
                                        DisplayMode.Disabled,
                                        DisplayMode.Edit
                                    )
                                FocusedBorderColor: =varThemeColors.primary
                                Height: =16
                                Icon: =Icon.Add
                                Width: =16
                                X: =5
                                Y: =btnVendorDetailsPhonesAddButton.Y+btnVendorDetailsPhonesAddButton.Height/2-Self.Height/2
                                ZIndex: =1

                            btnVendorDetailsPhonesAddButton As button:
                                Align: =Align.Left
                                BorderColor: =RGBA(0,0,0,0)
                                Color: =varThemeColors.text
                                DisabledBorderColor: =
                                DisabledColor: =varThemeColors.disabledText
                                DisabledFill: =
                                DisplayMode: |-
                                    =If(
                                        varIsProcessing,
                                        DisplayMode.Disabled,
                                        DisplayMode.Edit
                                    )
                                Fill: =RGBA(0, 0, 0, 0)
                                FocusedBorderColor: =varThemeColors.tertiaryGray
                                FocusedBorderThickness: =2
                                Font: =Font.'Segoe UI'
                                FontWeight: =FontWeight.Normal
                                Height: =Parent.Height-Self.Y*2
                                HoverBorderColor: =
                                HoverColor: =varThemeColors.primary
                                HoverFill: =Color.Transparent
                                OnSelect: |-
                                    =//Collection that tracks cross screen navigation thread and allows to back out in reverse sequence
                                    ClearCollect(
                                        colAppNavigationThreads,
                                        Table(
                                            {
                                                Screen: App.ActiveScreen,
                                                Order: CountRows(colAppNavigationThreads) + 1
                                            }
                                        )
                                    );
                                    Navigate(
                                        'Vendor Phone Details Screen',
                                        ScreenTransition.Cover,
                                        {_phone: Blank()}
                                    )
                                PaddingLeft: =icoVendorDetailsPhonesAddButton.X + icoVendorDetailsPhonesAddButton.Width + 8
                                PressedColor: =Color.Black
                                PressedFill: =Color.Transparent
                                RadiusBottomLeft: =0
                                RadiusBottomRight: =0
                                RadiusTopLeft: =0
                                RadiusTopRight: =0
                                Size: =10.5
                                Text: |-
                                    =With(
                                        {Text: "Add"},
                                        If(
                                            // If the localized text is blank, return the default text
                                            IsBlank(
                                                LookUp(
                                                    colUserLocalizedStrings,
                                                    'English Value' = Text
                                                ).'Localized Value'
                                            ),
                                            Text,
                                            // If a localized text is found, return that instead of the default text
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        )
                                    )
                                Tooltip: =Self.Text
                                Width: =Parent.Width-Self.X*2
                                X: =Self.FocusedBorderThickness
                                Y: =Self.FocusedBorderThickness
                                ZIndex: =2

                        conVendorDetailsPhonesDeleteButton As groupContainer.manualLayoutContainer:
                            AlignInContainer: =AlignInContainer.SetByContainer
                            FillPortions: =0
                            Height: =Parent.Height
                            LayoutMinHeight: =100
                            LayoutMinWidth: =250
                            Visible: |-
                                =//Make the button visible only if the following conditions are true
                                And(
                                    varExpandPhones,
                                    Or(//if a record is being created or updated
                                        varIsEdit,
                                        varIsNew
                                    ),
                                    !IsEmpty(//if one or more rows is selected
                                        Filter(
                                            galVendorDetailsPhones.AllItems,
                                            chbVendorDetailsPhonesSelectRow.Value
                                        )
                                    )
                                )
                            Width: =Len(btnVendorDetailsPhonesDeleteButton.Text) * 10 + btnVendorDetailsPhonesDeleteButton.PaddingLeft
                            ZIndex: =4

                            icoVendorDetailsPhonesDeleteButton As icon.Save:
                                AccessibleLabel: |-
                                    =// Define a variable named "Text" with the value "{value}"
                                    With(
                                        {Text: "Delete"},
                                        // Check if a localized text exists for "Text" in the user's preferred language
                                        If(
                                            // If the localized text is blank, return the default text
                                            IsBlank(
                                                LookUp(
                                                    colUserLocalizedStrings,
                                                    'English Value' = Text
                                                ).'Localized Value'
                                            ),
                                            Text,
                                            // If a localized text is found, return that instead of the default text
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        )
                                    )
                                Color: =varThemeColors.primary
                                DisabledColor: =varThemeColors.disabledText
                                DisplayMode: |-
                                    =If(
                                        varIsProcessing,
                                        DisplayMode.Disabled,
                                        DisplayMode.Edit
                                    )
                                FocusedBorderColor: =varThemeColors.primary
                                Height: =16
                                Icon: =Icon.Cancel
                                Width: =16
                                X: =5
                                Y: =btnVendorDetailsPhonesDeleteButton.Y+btnVendorDetailsPhonesDeleteButton.Height/2-Self.Height/2
                                ZIndex: =1

                            btnVendorDetailsPhonesDeleteButton As button:
                                Align: =Align.Left
                                BorderColor: =RGBA(0,0,0,0)
                                Color: =varThemeColors.text
                                DisabledBorderColor: =
                                DisabledColor: =varThemeColors.disabledText
                                DisabledFill: =
                                DisplayMode: |-
                                    =If(
                                        varIsProcessing,
                                        DisplayMode.Disabled,
                                        DisplayMode.Edit
                                    )
                                Fill: =RGBA(0, 0, 0, 0)
                                FocusedBorderColor: =varThemeColors.tertiaryGray
                                FocusedBorderThickness: =2
                                Font: =Font.'Segoe UI'
                                FontWeight: =FontWeight.Normal
                                Height: =Parent.Height-Self.Y*2
                                HoverBorderColor: =
                                HoverColor: =varThemeColors.primary
                                HoverFill: =Color.Transparent
                                OnSelect: |
                                    =UpdateIf(
                                        colVendorPhones,
                                        ID in Filter(
                                            galVendorDetailsPhones.AllItems,
                                            chbVendorDetailsPhonesSelectRow.Value = true
                                        ).ID && CrudType <> "C",
                                        {CrudType: "D"}
                                    );
                                    RemoveIf(
                                        colVendorPhones,
                                        And(
                                            ID in Filter(
                                                galVendorDetailsPhones.AllItems,
                                                chbVendorDetailsPhonesSelectRow.Value = true
                                            ).ID,
                                            CrudType = "C"
                                        )
                                    );
                                PaddingLeft: =icoVendorDetailsPhonesDeleteButton.X + icoVendorDetailsPhonesDeleteButton.Width + 8
                                PressedColor: =Color.Black
                                PressedFill: =Color.Transparent
                                RadiusBottomLeft: =0
                                RadiusBottomRight: =0
                                RadiusTopLeft: =0
                                RadiusTopRight: =0
                                Size: =10.5
                                Text: |-
                                    =With(
                                        {Text: "Delete"},
                                        If(
                                            // If the localized text is blank, return the default text
                                            IsBlank(
                                                LookUp(
                                                    colUserLocalizedStrings,
                                                    'English Value' = Text
                                                ).'Localized Value'
                                            ),
                                            Text,
                                            // If a localized text is found, return that instead of the default text
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        )
                                    )
                                Tooltip: =Self.Text
                                Width: =Parent.Width-Self.X*2
                                X: =Self.FocusedBorderThickness
                                Y: =Self.FocusedBorderThickness
                                ZIndex: =2

                    conVendorDetailsPhonesCommandBarFilter As groupContainer.manualLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        FillPortions: =0
                        Height: =Parent.Height
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        Width: =txtVendorDetailsPhonesCommandBarFilter.X+txtVendorDetailsPhonesCommandBarFilter.Width+txtVendorDetailsPhonesCommandBarFilter.FocusedBorderThickness
                        ZIndex: =3

                        txtVendorDetailsPhonesCommandBarFilter As text:
                            AccessibleLabel: =Self.HintText
                            BorderColor: =varThemeColors.primaryGray
                            BorderThickness: =1
                            Clear: =true
                            Color: =varThemeColors.text
                            Default: =
                            DelayOutput: =true
                            DisabledBorderColor: =varThemeColors.primaryGray
                            DisabledColor: =varThemeColors.disabledText
                            DisabledFill: =varThemeColors.backgroundFillDisabled
                            DisplayMode: |-
                                =If(
                                    And(
                                        galVendorDetailsPhones.Visible,
                                        varExpandPhones
                                    ),
                                    DisplayMode.Edit,
                                    DisplayMode.Disabled
                                )
                            Fill: =varThemeColors.backgroundFill
                            FocusedBorderThickness: =2
                            Font: =Font.'Segoe UI'
                            Height: =30
                            HintText: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {Text: "Filter phones"},
                                    // Check if a localized text exists for "Text" in the user's preferred language
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            HoverBorderColor: =Self.BorderColor
                            HoverColor: =varThemeColors.text
                            HoverFill: =varThemeColors.backgroundFill
                            MaxLength: =70
                            OnChange: =
                            PaddingBottom: =6
                            PaddingLeft: =8
                            PaddingRight: =8
                            PaddingTop: =6
                            PressedBorderColor: =Self.BorderColor
                            PressedColor: =
                            PressedFill: =varThemeColors.backgroundFill
                            RadiusBottomLeft: =0
                            RadiusBottomRight: =0
                            RadiusTopLeft: =0
                            RadiusTopRight: =0
                            Reset: =true
                            Size: =10.5
                            Tooltip: |-
                                =Coalesce(
                                    Self.Text,
                                    Self.HintText
                                )
                            Width: =248
                            X: =shpVendorDetailsPhonesCommandBarFilter.X+shpVendorDetailsPhonesCommandBarFilter.Width+7
                            Y: =Parent.Height/2-Self.Height/2
                            ZIndex: =1

                        shpVendorDetailsPhonesCommandBarFilter As rectangle:
                            AccessibleLabel: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: "Divider"
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Fill: =varThemeColors.secondaryGray
                            Height: =30
                            OnSelect: =
                            Width: =2
                            Y: =6
                            ZIndex: =2

                shpVendorDetailsPhonesMainDivider As rectangle:
                    AccessibleLabel: |-
                        =// Define a variable named "Text" with the value "{value}"
                        With(
                            {
                                Text: "Divider"
                            },
                            If(
                                // If the localized text is blank, return the default text
                                IsBlank(
                                    LookUp(
                                        colUserLocalizedStrings,
                                        'English Value' = Text
                                    ).'Localized Value'
                                ),
                                Text,
                                // If a localized text is found, return that instead of the default text
                                LookUp(
                                    colUserLocalizedStrings,
                                    'English Value' = Text
                                ).'Localized Value'
                            )
                        )
                    Fill: =varThemeColors.secondaryGray
                    Height: =1
                    LayoutMinHeight: =
                    LayoutMinWidth: =
                    Width: =
                    ZIndex: =2

                conVendorDetailsPhonesEntry As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    Height: |-
                        =conVendorDetailsPhonesTableHeader.Height + 20 + If(
                            galVendorDetailsPhones.Visible,
                            galVendorDetailsPhones.Height,
                            cmpVendorDetailsPhonesEntryNoItems.Height
                        )
                    LayoutAlignItems: =LayoutAlignItems.Stretch
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: |-
                        =conVendorDetailsPhonesTableHeader.Height + shpVendorDetailsPhonesEntryTableDivider.Height + If(
                            galVendorDetailsPhones.Visible,
                            galVendorDetailsPhones.LayoutMinHeight,
                            cmpVendorDetailsPhonesEntryNoItems.LayoutMinHeight
                        ) + Self.PaddingTop + Self.PaddingBottom
                    LayoutMinWidth: =conVendorDetailsPhonesTableHeader.LayoutMinWidth + Self.PaddingLeft + Self.PaddingRight
                    LayoutMode: =LayoutMode.Auto
                    PaddingBottom: =20
                    PaddingLeft: =16
                    PaddingRight: =16
                    Visible: =varExpandPhones
                    Width: =
                    ZIndex: =5

                    conVendorDetailsPhonesTableHeader As groupContainer.horizontalAutoLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        BorderColor: =RGBA(0, 0, 0, 0)
                        BorderStyle: =BorderStyle.None
                        Fill: =RGBA(255, 255, 255, 1)
                        FillPortions: =0
                        Height: =43
                        LayoutAlignItems: =LayoutAlignItems.Center
                        LayoutMinHeight: =
                        LayoutMinWidth: =chbVendorDetailsPhonesSelectAll.LayoutMinWidth + lblVendorDetailsPhonesTableHeaderPhone.LayoutMinWidth + lblVendorDetailsPhonesTableHeaderExtension.LayoutMinWidth + lblVendorDetailsPhonesTableHeaderCountry.LayoutMinWidth + lblVendorDetailsPhonesTableHeaderDefault.LayoutMinWidth + lblVendorDetailsPhonesTableHeaderDetail.Width + 200
                        LayoutMode: =LayoutMode.Auto
                        PaddingBottom: =2
                        PaddingLeft: =2
                        PaddingRight: =2
                        PaddingTop: =2
                        Width: =
                        ZIndex: =1

                        chbVendorDetailsPhonesSelectAll As checkbox:
                            CheckboxBorderColor: =varThemeColors.primaryGray
                            CheckboxSize: =20
                            Color: =varThemeColors.text
                            DisabledBorderColor: =varThemeColors.primaryGray
                            DisabledColor: =Self.Color
                            DisplayMode: |-
                                =If(
                                    And(
                                        CountRows(
                                            Filter(
                                                colVendorPhones,
                                                CrudType <> "D"
                                            )
                                        ) > 0,
                                        Or(
                                            varIsNew,
                                            varIsEdit
                                        ),
                                        !varIsProcessing
                                    ),
                                    DisplayMode.Edit,
                                    DisplayMode.Disabled
                                )
                            FocusedBorderColor: =varThemeColors.tertiaryGray
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Semibold
                            Height: =Parent.Height-Self.FocusedBorderThickness*2
                            HoverBorderColor: =
                            HoverColor: =Self.Color
                            HoverFill: =
                            LayoutMinWidth: =75
                            OnCheck: |-
                                =Set(
                                    varResetSelectPhoneRows,
                                    Self.Value
                                )
                            OnUncheck: |-
                                =Set(
                                    varResetSelectPhoneRows,
                                    Self.Value
                                )
                            PaddingBottom: =2
                            PressedColor: =Self.Color
                            Size: =10.5
                            Text: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: "Select"
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Tooltip: =Self.Text
                            Visible: =Or(varIsEdit,varIsNew)
                            Width: =Len(Self.Text) * 10 + Self.CheckboxSize
                            X: =Self.FocusedBorderThickness
                            Y: =Self.FocusedBorderThickness
                            ZIndex: =1

                        lblVendorDetailsPhonesTableHeaderPhone As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =varThemeColors.text
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            FillPortions: =1
                            FocusedBorderColor: =varThemeColors.primary
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Semibold
                            Height: =Parent.Height
                            LayoutMinWidth: =Len(Self.Text) * 8 + 10
                            PaddingBottom: =0
                            PaddingLeft: =8
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =10.5
                            Text: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: "Phone number"
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Width: =
                            Wrap: =false
                            ZIndex: =2

                        lblVendorDetailsPhonesTableHeaderExtension As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =varThemeColors.text
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            FillPortions: =1
                            FocusedBorderColor: =varThemeColors.primary
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Semibold
                            Height: =Parent.Height
                            LayoutMinWidth: =Len(Self.Text) * 8 + 10
                            PaddingBottom: =0
                            PaddingLeft: =8
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =10.5
                            Text: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: "Extension"
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Width: =
                            Wrap: =false
                            ZIndex: =3

                        lblVendorDetailsPhonesTableHeaderCountry As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =varThemeColors.text
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            FillPortions: =1
                            FocusedBorderColor: =varThemeColors.primary
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Semibold
                            Height: =Parent.Height
                            LayoutMinWidth: =Len(Self.Text) * 8 + 10
                            PaddingBottom: =0
                            PaddingLeft: =8
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =10.5
                            Text: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: "Country"
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Width: =
                            Wrap: =false
                            ZIndex: =4

                        lblVendorDetailsPhonesTableHeaderDefault As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =varThemeColors.text
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            FillPortions: =1
                            FocusedBorderColor: =varThemeColors.primary
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Semibold
                            Height: =Parent.Height
                            LayoutMinWidth: =Len(Self.Text) * 8 + 10
                            PaddingBottom: =0
                            PaddingLeft: =8
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =10.5
                            Text: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: "Default phone"
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Width: =
                            Wrap: =false
                            ZIndex: =5

                        lblVendorDetailsPhonesTableHeaderDetail As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =varThemeColors.text
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            FocusedBorderColor: =varThemeColors.primary
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Semibold
                            Height: =Parent.Height
                            LayoutMinWidth: =75
                            PaddingBottom: =0
                            PaddingLeft: =2
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =10.5
                            Text: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: "Details"
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Width: =Len(Self.Text) * 16
                            Wrap: =false
                            ZIndex: =6

                    shpVendorDetailsPhonesEntryTableDivider As rectangle:
                        AccessibleLabel: |-
                            =// Define a variable named "Text" with the value "{value}"
                            With(
                                {
                                    Text: "Divider"
                                },
                                If(
                                    // If the localized text is blank, return the default text
                                    IsBlank(
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    ),
                                    Text,
                                    // If a localized text is found, return that instead of the default text
                                    LookUp(
                                        colUserLocalizedStrings,
                                        'English Value' = Text
                                    ).'Localized Value'
                                )
                            )
                        Fill: =varThemeColors.secondaryGray
                        Height: =1
                        LayoutMinHeight: =
                        LayoutMinWidth: =
                        Width: =
                        ZIndex: =2

                    galVendorDetailsPhones As gallery.galleryVertical:
                        AccessibleLabel: |-
                            =// Define a variable named "Text" with the value "{value}"
                            With(
                                {Text: "Search results"},
                                // Check if a localized text exists for "Text" in the user's preferred language
                                If(
                                    // If the localized text is blank, return the default text
                                    IsBlank(
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    ),
                                    Text,
                                    // If a localized text is found, return that instead of the default text
                                    LookUp(
                                        colUserLocalizedStrings,
                                        'English Value' = Text
                                    ).'Localized Value'
                                )
                            )
                        AlignInContainer: =AlignInContainer.SetByContainer
                        DisplayMode: |-
                            =If(
                                varIsProcessing,
                                DisplayMode.Disabled,
                                DisplayMode.Edit
                            )
                        FocusedBorderColor: =varThemeColors.tertiaryGray
                        FocusedBorderThickness: =2
                        Height: =
                        ItemAccessibleLabel: =ThisItem.Phone
                        Items: |-
                            =//Filter out deleted items
                            With(
                                {
                                    purchaseOrgs: Sort(
                                        Filter(
                                            colVendorPhones,
                                            CrudType <> "D"
                                        ),
                                        Phone
                                    )
                                },
                                //Search on fields if filtered text entered
                                If(
                                    IsBlank(txtVendorDetailsPhonesCommandBarFilter.Text),
                                    purchaseOrgs,
                                    Search(
                                        purchaseOrgs,
                                        txtVendorDetailsPhonesCommandBarFilter.Text,
                                        "Country",
                                        "Extension",
                                        "Phone"
                                    )
                                )
                            )
                        Layout: =Layout.Vertical
                        LayoutMinHeight: |-
                            =CountRows(
                                Filter(
                                    colVendorPhones,
                                    CrudType <> "D"
                                )
                            ) * Self.TemplateHeight
                        LayoutMinWidth: =
                        TabIndex: =0
                        TemplateFill: |-
                            =If(
                                chbVendorDetailsPhonesSelectRow.Value,
                                ColorFade(varThemeColors.secondaryGray,50%),
                                RGBA(
                                    0,
                                    0,
                                    0,
                                    0
                                )
                            )
                        TemplatePadding: =0
                        TemplateSize: =43
                        Visible: |-
                            =CountRows(
                                Filter(
                                    colVendorPhones,
                                    CrudType <> "D"
                                )
                            ) > 0
                        Width: =
                        ZIndex: =3

                        shpVendorDetailsPhonesDivider As rectangle:
                            AccessibleLabel: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: "Divider"
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Fill: =varThemeColors.secondaryGray
                            Height: =1
                            Width: =Parent.Width
                            Y: =Parent.TemplateHeight-Self.Height
                            ZIndex: =1

                        btnVendorDetailsPhonesDetails As button:
                            Align: =Align.Left
                            BorderColor: =RGBA(0,0,0,0)
                            Color: =varThemeColors.primary
                            DisabledBorderColor: =
                            DisabledColor: =varThemeColors.disabledText
                            DisabledFill: =
                            DisplayMode: |-
                                =If(
                                    varIsProcessing,
                                    DisplayMode.Disabled,
                                    DisplayMode.Edit
                                )
                            Fill: =RGBA(0, 0, 0, 0)
                            FocusedBorderColor: =varThemeColors.tertiaryGray
                            FocusedBorderThickness: =2
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Normal
                            Height: =Parent.TemplateHeight-Self.Y*2
                            HoverBorderColor: =
                            HoverColor: =varThemeColors.primary
                            HoverFill: =Color.Transparent
                            OnSelect: |-
                                =ClearCollect(
                                    colAppNavigationThreads,
                                    Table(
                                        {
                                            Screen: App.ActiveScreen,
                                            Order: CountRows(colAppNavigationThreads) + 1
                                        }
                                    )
                                );
                                Navigate(
                                    'Vendor Phone Details Screen',
                                    ScreenTransition.Cover,
                                    {_phone: ThisItem}
                                )
                            PaddingLeft: =6
                            PressedColor: =Color.Black
                            PressedFill: =Color.Transparent
                            RadiusBottomLeft: =0
                            RadiusBottomRight: =0
                            RadiusTopLeft: =0
                            RadiusTopRight: =0
                            Size: =10.5
                            Text: |-
                                =With(
                                    {
                                        Text: If(
                                            Or(
                                                varIsNew,
                                                varIsEdit
                                            ),
                                            "Edit",
                                            "View"
                                        )
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Tooltip: =Self.Text
                            Width: =lblVendorDetailsPurchasingOrgDetailHeader.Width-Self.FocusedBorderThickness-15
                            X: =chbVendorDetailsPhonesDefault.X+chbVendorDetailsPhonesDefault.Width
                            Y: =Self.FocusedBorderThickness
                            ZIndex: =2

                        chbVendorDetailsPhonesDefault As checkbox:
                            CheckboxBorderColor: =varThemeColors.primaryGray
                            CheckboxSize: =20
                            Color: =RGBA(0,0,0,0)
                            Default: =ThisItem.Default
                            DisabledBorderColor: =varThemeColors.primaryGray
                            DisabledColor: =Self.Color
                            DisplayMode: =DisplayMode.View
                            FocusedBorderColor: =varThemeColors.tertiaryGray
                            Height: =30
                            HoverBorderColor: =
                            HoverColor: =Self.Color
                            HoverFill: =
                            OnCheck: |-
                                =/*
                                UpdateIf(
                                    colVendorPurchasingOrgs,
                                    !_IsSelected,
                                    {_IsSelected: true}
                                )*/
                            OnUncheck: =
                            PaddingLeft: =10
                            Text: =Self.Value
                            Width: =lblVendorDetailsPhonesTableHeaderDefault.Width
                            X: =lblVendorDetailsPhonesCountry.X+lblVendorDetailsPhonesCountry.Width
                            Y: =7
                            ZIndex: =3

                        lblVendorDetailsPhonesCountry As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =varThemeColors.text
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            FocusedBorderColor: =varThemeColors.primary
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            Height: =Parent.TemplateHeight
                            PaddingBottom: =0
                            PaddingLeft: =10
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =10.5
                            Text: =ThisItem.Country
                            Width: =lblVendorDetailsPhonesTableHeaderCountry.Width
                            Wrap: =false
                            X: =lblVendorDetailsPhonesExtension.X+lblVendorDetailsPhonesExtension.Width
                            ZIndex: =4

                        lblVendorDetailsPhonesExtension As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =varThemeColors.text
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            FocusedBorderColor: =varThemeColors.primary
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            Height: =Parent.TemplateHeight
                            PaddingBottom: =0
                            PaddingLeft: =10
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =10.5
                            Text: =ThisItem.Extension
                            Width: =lblVendorDetailsPhonesTableHeaderExtension.Width
                            Wrap: =false
                            X: =lblVendorDetailsPhonesPhone.X+lblVendorDetailsPhonesPhone.Width
                            ZIndex: =5

                        lblVendorDetailsPhonesPhone As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =varThemeColors.text
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            FocusedBorderColor: =varThemeColors.primary
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            Height: =Parent.TemplateHeight
                            PaddingBottom: =0
                            PaddingLeft: =10
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =10.5
                            Text: =ThisItem.Phone
                            Width: =lblVendorDetailsPhonesTableHeaderPhone.Width
                            Wrap: =false
                            X: |-
                                =If(
                                    chbVendorDetailsPhonesSelectRow.Visible,
                                    chbVendorDetailsPhonesSelectRow.X * 2 + chbVendorDetailsPhonesSelectRow.Width,
                                    0
                                )
                            ZIndex: =6

                        chbVendorDetailsPhonesSelectRow As checkbox:
                            CheckboxBorderColor: =varThemeColors.primaryGray
                            CheckboxSize: =20
                            Color: =RGBA(0, 0, 0, 0)
                            Default: =varResetSelectPhoneRows
                            DisabledColor: =Self.Color
                            DisplayMode: =chbVendorDetailsPhonesSelectAll.DisplayMode
                            FocusedBorderColor: =varThemeColors.tertiaryGray
                            Height: =Parent.TemplateHeight-Self.Y*2
                            HoverBorderColor: =
                            HoverColor: =Self.Color
                            HoverFill: =
                            OnCheck: =
                            OnUncheck: =
                            PressedColor: =Self.Color
                            Text: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: If(
                                            Self.Value,
                                            "Unselect row",
                                            "Select row"
                                        )
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Tooltip: =Self.Text
                            Visible: =Or(varIsEdit,varIsNew)
                            Width: =chbVendorDetailsPhonesSelectAll.Width-Self.X*2
                            X: =Self.FocusedBorderThickness
                            Y: =Self.FocusedBorderThickness
                            ZIndex: =7

                    cmpVendorDetailsPhonesEntryNoItems As NoItemsDisplay:
                        Height: =215
                        LayoutMinHeight: =215
                        LayoutMinWidth: =
                        Visible: =!galVendorDetailsPhones.Visible
                        Width: =
                        ZIndex: =4

            conVendorDetailsEmails As groupContainer.verticalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                Fill: =RGBA(255, 255, 255, 1)
                FillPortions: =0
                Height: |-
                    =If(
                        varExpandEmails,
                        conVendorDetailsEmailsEntry.LayoutMinHeight + shpVendorDetailsEmailsMainDivider.Height + conVendorDetailsEmailsComandBar.Height,
                        conVendorDetailsEmailsComandBar.Height
                    )
                LayoutAlignItems: =LayoutAlignItems.Stretch
                LayoutDirection: =LayoutDirection.Vertical
                LayoutMinHeight: =
                LayoutMinWidth: |-
                    =Max(
                        conVendorDetailsPurchasingOrganizationEntry.LayoutMinWidth + Self.PaddingLeft + Self.PaddingRight,
                        conVendorDetailsCompanyCodesEntry.LayoutMinWidth + Self.PaddingLeft + Self.PaddingRight,
                        conVendorDetailsPhonesEntry.LayoutMinWidth + Self.PaddingLeft + Self.PaddingRight,
                        conVendorDetailsEmailsEntry.LayoutMinWidth + Self.PaddingLeft + Self.PaddingRight
                    )
                LayoutMode: =LayoutMode.Auto
                Width: =
                ZIndex: =8

                conVendorDetailsEmailsComandBar As groupContainer.horizontalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =39
                    LayoutGap: =10
                    LayoutMinHeight: =
                    LayoutMinWidth: =
                    LayoutMode: =LayoutMode.Auto
                    Width: =
                    ZIndex: =1

                    conVendorDetailsEmailsComandBarLeft As groupContainer.horizontalAutoLayoutContainer:
                        Height: =Parent.Height
                        LayoutAlignItems: =LayoutAlignItems.Center
                        LayoutGap: =2
                        LayoutMinHeight: =0
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        PaddingLeft: =2
                        PaddingRight: =2
                        ZIndex: =4

                        "icoVendorDetailsEmailsCommandBarLeftExpandCollapse As icon.'3DPrinting'":
                            AccessibleLabel: =Self.Tooltip
                            BorderColor: =varThemeColors.primary
                            Color: =varThemeColors.text
                            DisabledBorderColor: =varThemeColors.disabledText
                            DisabledColor: =varThemeColors.backgroundFillDisabled
                            DisabledFill: =RGBA(0,0,0,0)
                            DisplayMode: |-
                                =If(
                                    And(
                                        !varIsNew,
                                        Or(
                                            IsBlank(varVendorHeader),
                                            varIsProcessing
                                        )
                                    ),
                                    DisplayMode.Disabled,
                                    DisplayMode.Edit
                                )
                            Fill: =RGBA(0,0,0,0)
                            FocusedBorderColor: =varThemeColors.tertiaryGray
                            Height: =20  
                            HoverBorderColor: =varThemeColors.primary
                            HoverColor: =varThemeColors.primary
                            HoverFill: =RGBA(0,0,0,0)
                            Icon: |-
                                =If(
                                    varExpandEmails,
                                    Icon.ChevronDown,
                                    Icon.ChevronRight
                                )
                            LayoutMinHeight: =0
                            OnSelect: |-
                                =//Update variable that drives whether to show the subgrid or not
                                Set(
                                    varExpandEmails,
                                    !varExpandEmails
                                );
                                //Reset controls, toggle reset select row variables as a work around to not being able to reset controls within galleries
                                Set(
                                    varResetSelectEmailRows,
                                    true
                                );
                                Set(
                                    varResetSelectEmailRows,
                                    false
                                );
                                Reset(txtVendorDetailsEmailsCommandBarFilter);
                                Reset(chbVendorDetailsEmailsSelectAll);
                                If(
                                    And(
                                        varExpandEmails,
                                        Or(
                                            varIsNew,
                                            varIsEdit
                                        )
                                    ),
                                    SetFocus(btnVendorDetailsEmailsAddButton),
                                    SetFocus(txtVendorDetailsEmailsCommandBarFilter)
                                )
                            PaddingBottom: =3
                            PaddingLeft: =3
                            PaddingRight: =3
                            PaddingTop: =3
                            PressedBorderColor: =varThemeColors.primary
                            PressedColor: =varThemeColors.primary
                            PressedFill: =RGBA(0,0,0,0)
                            TabIndex: =0
                            Tooltip: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: If(
                                            varExpandEmails,
                                            "Collapse emails",
                                            "Expand emails"
                                        )
                                    },
                                    // Check if a localized text exists for "Text" in the user's preferred language
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Width: =20
                            Y: =Parent.Height/2-Self.Height/2
                            ZIndex: =1

                        lblVendorDetailsEmails As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =varThemeColors.text
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            FocusedBorderColor: =varThemeColors.primary
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Semibold
                            Height: =Parent.Height
                            PaddingBottom: =0
                            PaddingLeft: =0
                            PaddingRight: =0
                            PaddingTop: =0
                            Role: =TextRole.Heading2
                            Size: =10.5
                            Text: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: "Emails"
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Width: =Len(Self.Text)*8
                            ZIndex: =2

                        conVendorDetailsEmailsAddButton As groupContainer.manualLayoutContainer:
                            AlignInContainer: =AlignInContainer.SetByContainer
                            FillPortions: =0
                            Height: =Parent.Height
                            LayoutMinHeight: =100
                            LayoutMinWidth: =250
                            Visible: |-
                                =And(
                                    varExpandEmails,
                                    Or(
                                        varIsEdit,
                                        varIsNew
                                    )
                                )
                            Width: =Len(btnVendorDetailsEmailsAddButton.Text) * 10 + btnVendorDetailsEmailsAddButton.PaddingLeft + btnVendorDetailsEmailsAddButton.PaddingRight
                            ZIndex: =3

                            icoVendorDetailsEmailsAddButton As icon.Save:
                                AccessibleLabel: |-
                                    =// Define a variable named "Text" with the value "{value}"
                                    With(
                                        {Text: "Add"},
                                        // Check if a localized text exists for "Text" in the user's preferred language
                                        If(
                                            // If the localized text is blank, return the default text
                                            IsBlank(
                                                LookUp(
                                                    colUserLocalizedStrings,
                                                    'English Value' = Text
                                                ).'Localized Value'
                                            ),
                                            Text,
                                            // If a localized text is found, return that instead of the default text
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        )
                                    )
                                Color: =varThemeColors.primary
                                DisabledColor: =varThemeColors.disabledText
                                DisplayMode: |-
                                    =If(
                                        varIsProcessing,
                                        DisplayMode.Disabled,
                                        DisplayMode.Edit
                                    )
                                FocusedBorderColor: =varThemeColors.primary
                                Height: =16
                                Icon: =Icon.Add
                                Width: =16
                                X: =5
                                Y: =btnVendorDetailsEmailsAddButton.Y+btnVendorDetailsEmailsAddButton.Height/2-Self.Height/2
                                ZIndex: =1

                            btnVendorDetailsEmailsAddButton As button:
                                Align: =Align.Left
                                BorderColor: =RGBA(0,0,0,0)
                                Color: =varThemeColors.text
                                DisabledBorderColor: =
                                DisabledColor: =varThemeColors.disabledText
                                DisabledFill: =
                                DisplayMode: |-
                                    =If(
                                        varIsProcessing,
                                        DisplayMode.Disabled,
                                        DisplayMode.Edit
                                    )
                                Fill: =RGBA(0, 0, 0, 0)
                                FocusedBorderColor: =varThemeColors.tertiaryGray
                                FocusedBorderThickness: =2
                                Font: =Font.'Segoe UI'
                                FontWeight: =FontWeight.Normal
                                Height: =Parent.Height-Self.Y*2
                                HoverBorderColor: =
                                HoverColor: =varThemeColors.primary
                                HoverFill: =Color.Transparent
                                OnSelect: |-
                                    =//Collection that tracks cross screen navigation thread and allows to back out in reverse sequence
                                    ClearCollect(
                                        colAppNavigationThreads,
                                        Table(
                                            {
                                                Screen: App.ActiveScreen,
                                                Order: CountRows(colAppNavigationThreads) + 1
                                            }
                                        )
                                    );
                                    Navigate(
                                        'Vendor Email Details Screen',
                                        ScreenTransition.Cover,
                                        {_email: Blank()}
                                    )
                                PaddingLeft: =icoVendorDetailsEmailsAddButton.X + icoVendorDetailsEmailsAddButton.Width + 8
                                PressedColor: =Color.Black
                                PressedFill: =Color.Transparent
                                RadiusBottomLeft: =0
                                RadiusBottomRight: =0
                                RadiusTopLeft: =0
                                RadiusTopRight: =0
                                Size: =10.5
                                Text: |-
                                    =With(
                                        {Text: "Add"},
                                        If(
                                            // If the localized text is blank, return the default text
                                            IsBlank(
                                                LookUp(
                                                    colUserLocalizedStrings,
                                                    'English Value' = Text
                                                ).'Localized Value'
                                            ),
                                            Text,
                                            // If a localized text is found, return that instead of the default text
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        )
                                    )
                                Tooltip: =Self.Text
                                Width: =Parent.Width-Self.X*2
                                X: =Self.FocusedBorderThickness
                                Y: =Self.FocusedBorderThickness
                                ZIndex: =2

                        conVendorDetailsEmailsDeleteButton As groupContainer.manualLayoutContainer:
                            AlignInContainer: =AlignInContainer.SetByContainer
                            FillPortions: =0
                            Height: =Parent.Height
                            LayoutMinHeight: =100
                            LayoutMinWidth: =250
                            Visible: |-
                                =//Make the button visible only if the following conditions are true
                                And(
                                    varExpandEmails,
                                    Or(//if a record is being created or updated
                                        varIsEdit,
                                        varIsNew
                                    ),
                                    !IsEmpty(//if one or more rows is selected
                                        Filter(
                                            galVendorDetailsEmails.AllItems,
                                            chbVendorDetailsEmailSelectRow.Value
                                        )
                                    )
                                )
                            Width: =Len(btnVendorDetailsEmailsDeleteButton.Text) * 10 + btnVendorDetailsEmailsDeleteButton.PaddingLeft
                            ZIndex: =4

                            icoVendorDetailsEmailsDeleteButton As icon.Save:
                                AccessibleLabel: |-
                                    =// Define a variable named "Text" with the value "{value}"
                                    With(
                                        {Text: "Delete"},
                                        // Check if a localized text exists for "Text" in the user's preferred language
                                        If(
                                            // If the localized text is blank, return the default text
                                            IsBlank(
                                                LookUp(
                                                    colUserLocalizedStrings,
                                                    'English Value' = Text
                                                ).'Localized Value'
                                            ),
                                            Text,
                                            // If a localized text is found, return that instead of the default text
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        )
                                    )
                                Color: =varThemeColors.primary
                                DisabledColor: =varThemeColors.disabledText
                                DisplayMode: |-
                                    =If(
                                        varIsProcessing,
                                        DisplayMode.Disabled,
                                        DisplayMode.Edit
                                    )
                                FocusedBorderColor: =varThemeColors.primary
                                Height: =16
                                Icon: =Icon.Cancel
                                Width: =16
                                X: =5
                                Y: =btnVendorDetailsEmailsDeleteButton.Y+btnVendorDetailsEmailsDeleteButton.Height/2-Self.Height/2
                                ZIndex: =1

                            btnVendorDetailsEmailsDeleteButton As button:
                                Align: =Align.Left
                                BorderColor: =RGBA(0,0,0,0)
                                Color: =varThemeColors.text
                                DisabledBorderColor: =
                                DisabledColor: =varThemeColors.disabledText
                                DisabledFill: =
                                DisplayMode: |-
                                    =If(
                                        varIsProcessing,
                                        DisplayMode.Disabled,
                                        DisplayMode.Edit
                                    )
                                Fill: =RGBA(0, 0, 0, 0)
                                FocusedBorderColor: =varThemeColors.tertiaryGray
                                FocusedBorderThickness: =2
                                Font: =Font.'Segoe UI'
                                FontWeight: =FontWeight.Normal
                                Height: =Parent.Height-Self.Y*2
                                HoverBorderColor: =
                                HoverColor: =varThemeColors.primary
                                HoverFill: =Color.Transparent
                                OnSelect: |-
                                    =RemoveIf(
                                        colVendorEmails,
                                        And(
                                            ID in Filter(
                                                galVendorDetailsEmails.AllItems,
                                                chbVendorDetailsEmailSelectRow.Value = true
                                            ).ID,
                                            CrudType = "C"
                                        )
                                    );
                                    UpdateIf(
                                        colVendorEmails,
                                        ID in Filter(
                                            galVendorDetailsEmails.AllItems,
                                            chbVendorDetailsEmailSelectRow.Value = true
                                        ).ID,
                                        {CrudType: "D"}
                                    )
                                PaddingLeft: =icoVendorDetailsEmailsDeleteButton.X + icoVendorDetailsEmailsDeleteButton.Width + 8
                                PressedColor: =Color.Black
                                PressedFill: =Color.Transparent
                                RadiusBottomLeft: =0
                                RadiusBottomRight: =0
                                RadiusTopLeft: =0
                                RadiusTopRight: =0
                                Size: =10.5
                                Text: |-
                                    =With(
                                        {Text: "Delete"},
                                        If(
                                            // If the localized text is blank, return the default text
                                            IsBlank(
                                                LookUp(
                                                    colUserLocalizedStrings,
                                                    'English Value' = Text
                                                ).'Localized Value'
                                            ),
                                            Text,
                                            // If a localized text is found, return that instead of the default text
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        )
                                    )
                                Tooltip: =Self.Text
                                Width: =Parent.Width-Self.X*2
                                X: =Self.FocusedBorderThickness
                                Y: =Self.FocusedBorderThickness
                                ZIndex: =2

                    conVendorDetailsEmailsCommandBarFilter As groupContainer.manualLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        FillPortions: =0
                        Height: =Parent.Height
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        Width: =txtVendorDetailsEmailsCommandBarFilter.X+txtVendorDetailsEmailsCommandBarFilter.Width+txtVendorDetailsEmailsCommandBarFilter.FocusedBorderThickness
                        ZIndex: =5

                        txtVendorDetailsEmailsCommandBarFilter As text:
                            AccessibleLabel: =Self.HintText
                            BorderColor: =varThemeColors.primaryGray
                            BorderThickness: =1
                            Clear: =true
                            Color: =varThemeColors.text
                            Default: =
                            DelayOutput: =true
                            DisabledBorderColor: =varThemeColors.primaryGray
                            DisabledColor: =varThemeColors.disabledText
                            DisabledFill: =varThemeColors.backgroundFillDisabled
                            DisplayMode: |-
                                =If(
                                    And(
                                        galVendorDetailsEmails.Visible,
                                        varExpandEmails
                                    ),
                                    DisplayMode.Edit,
                                    DisplayMode.Disabled
                                )
                            Fill: =varThemeColors.backgroundFill
                            FocusedBorderThickness: =2
                            Font: =Font.'Segoe UI'
                            Height: =30
                            HintText: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {Text: "Filter emails"},
                                    // Check if a localized text exists for "Text" in the user's preferred language
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            HoverBorderColor: =Self.BorderColor
                            HoverColor: =varThemeColors.text
                            HoverFill: =varThemeColors.backgroundFill
                            MaxLength: =70
                            OnChange: =
                            PaddingBottom: =6
                            PaddingLeft: =8
                            PaddingRight: =8
                            PaddingTop: =6
                            PressedBorderColor: =Self.BorderColor
                            PressedColor: =
                            PressedFill: =varThemeColors.backgroundFill
                            RadiusBottomLeft: =0
                            RadiusBottomRight: =0
                            RadiusTopLeft: =0
                            RadiusTopRight: =0
                            Reset: =true
                            Size: =10.5
                            Tooltip: |-
                                =Coalesce(
                                    Self.Text,
                                    Self.HintText
                                )
                            Width: =248
                            X: =shpVendorDetailsEmailsCommandBarFilter.X+shpVendorDetailsEmailsCommandBarFilter.Width+7
                            Y: =Parent.Height/2-Self.Height/2
                            ZIndex: =1

                        shpVendorDetailsEmailsCommandBarFilter As rectangle:
                            AccessibleLabel: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: "Divider"
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Fill: =varThemeColors.secondaryGray
                            Height: =30
                            OnSelect: =
                            Width: =2
                            Y: =6
                            ZIndex: =2

                shpVendorDetailsEmailsMainDivider As rectangle:
                    AccessibleLabel: |-
                        =// Define a variable named "Text" with the value "{value}"
                        With(
                            {
                                Text: "Divider"
                            },
                            If(
                                // If the localized text is blank, return the default text
                                IsBlank(
                                    LookUp(
                                        colUserLocalizedStrings,
                                        'English Value' = Text
                                    ).'Localized Value'
                                ),
                                Text,
                                // If a localized text is found, return that instead of the default text
                                LookUp(
                                    colUserLocalizedStrings,
                                    'English Value' = Text
                                ).'Localized Value'
                            )
                        )
                    Fill: =varThemeColors.secondaryGray
                    Height: =1
                    LayoutMinHeight: =
                    LayoutMinWidth: =
                    Width: =
                    ZIndex: =2

                conVendorDetailsEmailsEntry As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    Height: =
                    LayoutAlignItems: =LayoutAlignItems.Stretch
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: |-
                        =conVendorDetailsEmailsEntryTabelHeader.Height + shpVendorDetailsEmailsEntryTableDivider.Height + If(
                            galVendorDetailsEmails.Visible,
                            galVendorDetailsEmails.LayoutMinHeight,
                            cmpVendorDetailsEmailsEntryNoItems.LayoutMinHeight
                        ) + Self.PaddingTop + Self.PaddingBottom
                    LayoutMinWidth: =conVendorDetailsEmailsEntryTabelHeader.LayoutMinWidth + Self.PaddingLeft + Self.PaddingRight
                    LayoutMode: =LayoutMode.Auto
                    PaddingBottom: =20
                    PaddingLeft: =16
                    PaddingRight: =16
                    Visible: =varExpandEmails
                    Width: =
                    ZIndex: =5

                    conVendorDetailsEmailsEntryTabelHeader As groupContainer.horizontalAutoLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        BorderColor: =RGBA(0, 0, 0, 0)
                        BorderStyle: =BorderStyle.None
                        Fill: =RGBA(255, 255, 255, 1)
                        FillPortions: =0
                        Height: =43
                        LayoutAlignItems: =LayoutAlignItems.Center
                        LayoutMinHeight: =
                        LayoutMinWidth: =chbVendorDetailsEmailsSelectAll.LayoutMinWidth + lblVendorDetailsEmailAddressHeader.LayoutMinWidth + lblVendorDetailsEmailDefaultHeader.LayoutMinWidth + lblVendorDetailsEmailDetailHeader.Width + 200
                        LayoutMode: =LayoutMode.Auto
                        PaddingBottom: =2
                        PaddingLeft: =2
                        PaddingRight: =2
                        PaddingTop: =2
                        Width: =Parent.Width-Parent.PaddingLeft-Parent.PaddingRight
                        ZIndex: =1

                        chbVendorDetailsEmailsSelectAll As checkbox:
                            CheckboxBorderColor: =varThemeColors.primaryGray
                            CheckboxSize: =20
                            Color: =varThemeColors.text
                            DisabledBorderColor: =varThemeColors.primaryGray
                            DisabledColor: =Self.Color
                            DisplayMode: |-
                                =If(
                                    And(
                                        CountRows(
                                            Filter(
                                                colVendorEmails,
                                                CrudType <> "D"
                                            )
                                        ) > 0,
                                        Or(
                                            varIsNew,
                                            varIsEdit
                                        ),
                                        !varIsProcessing
                                    ),
                                    DisplayMode.Edit,
                                    DisplayMode.Disabled
                                )
                            FocusedBorderColor: =varThemeColors.tertiaryGray
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Semibold
                            Height: =Parent.Height-Self.FocusedBorderThickness*2
                            HoverBorderColor: =
                            HoverColor: =Self.Color
                            HoverFill: =
                            LayoutMinWidth: =75
                            OnCheck: |-
                                =Set(
                                    varResetSelectEmailRows,
                                    Self.Value
                                )
                            OnUncheck: |-
                                =Set(
                                    varResetSelectEmailRows,
                                    Self.Value
                                )
                            PaddingBottom: =2
                            PressedColor: =Self.Color
                            Size: =10.5
                            Text: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: "Select"
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Tooltip: =Self.Text
                            Visible: =Or(varIsEdit,varIsNew)
                            Width: =Len(Self.Text) * 10 + Self.CheckboxSize
                            X: =Self.FocusedBorderThickness
                            Y: =Self.FocusedBorderThickness
                            ZIndex: =1

                        lblVendorDetailsEmailAddressHeader As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =varThemeColors.text
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            FillPortions: =1
                            FocusedBorderColor: =varThemeColors.primary
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Semibold
                            Height: =Parent.Height
                            LayoutMinWidth: =Len(Self.Text) * 8 + 10
                            PaddingBottom: =0
                            PaddingLeft: =10
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =10.5
                            Text: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: "Email address"
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Width: =
                            Wrap: =false
                            ZIndex: =2

                        lblVendorDetailsEmailDefaultHeader As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =varThemeColors.text
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            FillPortions: =1
                            FocusedBorderColor: =varThemeColors.primary
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Semibold
                            Height: =Parent.Height
                            LayoutMinWidth: =Len(Self.Text) * 8 + 10
                            PaddingBottom: =0
                            PaddingLeft: =10
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =10.5
                            Text: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: "Default email"
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Width: =
                            Wrap: =false
                            ZIndex: =5

                        lblVendorDetailsEmailDetailHeader As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =varThemeColors.text
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            FocusedBorderColor: =varThemeColors.primary
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Semibold
                            Height: =Parent.Height
                            LayoutMinWidth: =75
                            PaddingBottom: =0
                            PaddingLeft: =2
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =10.5
                            Text: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: "Details"
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Width: =Len(Self.Text) * 16
                            Wrap: =false
                            ZIndex: =6

                    shpVendorDetailsEmailsEntryTableDivider As rectangle:
                        AccessibleLabel: |-
                            =// Define a variable named "Text" with the value "{value}"
                            With(
                                {
                                    Text: "Divider"
                                },
                                If(
                                    // If the localized text is blank, return the default text
                                    IsBlank(
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    ),
                                    Text,
                                    // If a localized text is found, return that instead of the default text
                                    LookUp(
                                        colUserLocalizedStrings,
                                        'English Value' = Text
                                    ).'Localized Value'
                                )
                            )
                        Fill: =varThemeColors.secondaryGray
                        Height: =1
                        LayoutMinHeight: =
                        LayoutMinWidth: =
                        Width: =
                        ZIndex: =2

                    galVendorDetailsEmails As gallery.galleryVertical:
                        AccessibleLabel: |-
                            =// Define a variable named "Text" with the value "{value}"
                            With(
                                {Text: "Search results"},
                                // Check if a localized text exists for "Text" in the user's preferred language
                                If(
                                    // If the localized text is blank, return the default text
                                    IsBlank(
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    ),
                                    Text,
                                    // If a localized text is found, return that instead of the default text
                                    LookUp(
                                        colUserLocalizedStrings,
                                        'English Value' = Text
                                    ).'Localized Value'
                                )
                            )
                        AlignInContainer: =AlignInContainer.SetByContainer
                        DisplayMode: |-
                            =If(
                                varIsProcessing,
                                DisplayMode.Disabled,
                                DisplayMode.Edit
                            )
                        FocusedBorderColor: =varThemeColors.tertiaryGray
                        FocusedBorderThickness: =2
                        Height: =
                        ItemAccessibleLabel: =ThisItem.Email
                        Items: |-
                            =//Filter out deleted items
                            With(
                                {
                                    purchaseOrgs: Sort(
                                        Filter(
                                            colVendorEmails,
                                            CrudType <> "D"
                                        ),
                                        Email
                                    )
                                },
                                //Search on fields if filtered text entered
                                If(
                                    IsBlank(txtVendorDetailsEmailsCommandBarFilter.Text),
                                    purchaseOrgs,
                                    Search(
                                        purchaseOrgs,
                                        txtVendorDetailsEmailsCommandBarFilter.Text,
                                        "Email"
                                    )
                                )
                            )
                        Layout: =Layout.Vertical
                        LayoutMinHeight: |-
                            =CountRows(
                                Filter(
                                    colVendorEmails,
                                    CrudType <> "D"
                                )
                            ) * Self.TemplateHeight
                        LayoutMinWidth: =
                        TabIndex: =0
                        TemplateFill: |-
                            =If(
                                chbVendorDetailsEmailSelectRow.Value,
                                ColorFade(varThemeColors.secondaryGray,50%),
                                RGBA(
                                    0,
                                    0,
                                    0,
                                    0
                                )
                            )
                        TemplatePadding: =0
                        TemplateSize: =43
                        Visible: |-
                            =CountRows(
                                Filter(
                                    colVendorEmails,
                                    CrudType <> "D"
                                )
                            ) > 0
                        Width: =
                        ZIndex: =3

                        shpVendorDetailsEmailDivider As rectangle:
                            AccessibleLabel: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: "Divider"
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Fill: =varThemeColors.secondaryGray
                            Height: =1
                            Width: =Parent.Width
                            Y: =Parent.TemplateHeight-Self.Height
                            ZIndex: =1

                        btnVendorDetailsEditEmailRecord As button:
                            Align: =Align.Left
                            BorderColor: =RGBA(0,0,0,0)
                            Color: =varThemeColors.primary
                            DisabledBorderColor: =
                            DisabledColor: =varThemeColors.disabledText
                            DisabledFill: =
                            DisplayMode: |-
                                =If(
                                    varIsProcessing,
                                    DisplayMode.Disabled,
                                    DisplayMode.Edit
                                )
                            Fill: =RGBA(0, 0, 0, 0)
                            FocusedBorderColor: =varThemeColors.tertiaryGray
                            FocusedBorderThickness: =2
                            Font: =Font.'Segoe UI'
                            FontWeight: =FontWeight.Normal
                            Height: =Parent.TemplateHeight-Self.Y*2
                            HoverBorderColor: =
                            HoverColor: =varThemeColors.primary
                            HoverFill: =Color.Transparent
                            OnSelect: |-
                                =ClearCollect(
                                    colAppNavigationThreads,
                                    Table(
                                        {
                                            Screen: App.ActiveScreen,
                                            Order: CountRows(colAppNavigationThreads) + 1
                                        }
                                    )
                                );
                                Navigate(
                                    'Vendor Email Details Screen',
                                    ScreenTransition.Cover,
                                    {_email: ThisItem}
                                )
                            PaddingLeft: =6
                            PressedColor: =Color.Black
                            PressedFill: =Color.Transparent
                            RadiusBottomLeft: =0
                            RadiusBottomRight: =0
                            RadiusTopLeft: =0
                            RadiusTopRight: =0
                            Size: =10.5
                            Text: |-
                                =With(
                                    {
                                        Text: If(
                                            Or(
                                                varIsNew,
                                                varIsEdit
                                            ),
                                            "Edit",
                                            "View"
                                        )
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Tooltip: =Self.Text
                            Width: =lblVendorDetailsEmailDetailHeader.Width-Self.FocusedBorderThickness-15
                            X: =chbVendorDetailsEmailDefaultValue.X+chbVendorDetailsEmailDefaultValue.Width
                            Y: =Self.FocusedBorderThickness
                            ZIndex: =2

                        chbVendorDetailsEmailDefaultValue As checkbox:
                            CheckboxBorderColor: =varThemeColors.primaryGray
                            CheckboxSize: =20
                            Color: =RGBA(0,0,0,0)
                            Default: =ThisItem.Default
                            DisabledBorderColor: =varThemeColors.primaryGray
                            DisabledColor: =Self.Color
                            DisplayMode: =DisplayMode.View
                            FocusedBorderColor: =varThemeColors.tertiaryGray
                            Height: =30
                            HoverBorderColor: =
                            HoverColor: =Self.Color
                            HoverFill: =
                            OnCheck: |-
                                =/*
                                UpdateIf(
                                    colVendorPurchasingOrgs,
                                    !_IsSelected,
                                    {_IsSelected: true}
                                )*/
                            OnUncheck: =
                            PaddingLeft: =12
                            PressedColor: =Self.Color
                            Text: =Self.Value
                            Tooltip: =Self.Value
                            Width: =lblVendorDetailsEmailDefaultHeader.Width
                            X: =lblVendorDetailsEmailTableValue.X+lblVendorDetailsEmailTableValue.Width
                            Y: =7
                            ZIndex: =3

                        lblVendorDetailsEmailTableValue As label:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =2
                            Color: =varThemeColors.text
                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                            FocusedBorderColor: =varThemeColors.primary
                            FocusedBorderThickness: =4
                            Font: =Font.'Segoe UI'
                            Height: =Parent.TemplateHeight
                            PaddingBottom: =0
                            PaddingLeft: =12
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =10.5
                            Text: =ThisItem.Email
                            Width: =lblVendorDetailsEmailAddressHeader.Width
                            Wrap: =false
                            X: |-
                                =If(
                                    chbVendorDetailsEmailSelectRow.Visible,
                                    chbVendorDetailsEmailSelectRow.X * 2 + chbVendorDetailsEmailSelectRow.Width,
                                    0
                                )
                            ZIndex: =4

                        chbVendorDetailsEmailSelectRow As checkbox:
                            CheckboxBorderColor: =varThemeColors.primaryGray
                            CheckboxSize: =20
                            Color: =RGBA(0, 0, 0, 0)
                            Default: =varResetSelectEmailRows
                            DisabledColor: =Self.Color
                            DisplayMode: =chbVendorDetailsEmailsSelectAll.DisplayMode
                            FocusedBorderColor: =varThemeColors.tertiaryGray
                            Height: =Parent.TemplateHeight-Self.Y*2
                            HoverBorderColor: =
                            HoverColor: =Self.Color
                            HoverFill: =
                            OnCheck: =
                            OnUncheck: =
                            PressedColor: =Self.Color
                            Text: |-
                                =// Define a variable named "Text" with the value "{value}"
                                With(
                                    {
                                        Text: If(
                                            Self.Value,
                                            "Unselect row",
                                            "Select row"
                                        )
                                    },
                                    If(
                                        // If the localized text is blank, return the default text
                                        IsBlank(
                                            LookUp(
                                                colUserLocalizedStrings,
                                                'English Value' = Text
                                            ).'Localized Value'
                                        ),
                                        Text,
                                        // If a localized text is found, return that instead of the default text
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text
                                        ).'Localized Value'
                                    )
                                )
                            Tooltip: =Self.Text
                            Visible: =Or(varIsEdit,varIsNew)
                            Width: =chbVendorDetailsEmailsSelectAll.Width-Self.X*2
                            X: =Self.FocusedBorderThickness
                            Y: =Self.FocusedBorderThickness
                            ZIndex: =5

                    cmpVendorDetailsEmailsEntryNoItems As NoItemsDisplay:
                        Height: =215
                        LayoutMinHeight: =215
                        LayoutMinWidth: =
                        Visible: =!galVendorDetailsEmails.Visible
                        Width: =
                        ZIndex: =4

        lblVendorDetailsFooterMessage As label:
            Align: =Align.Right
            BorderColor: =RGBA(0, 0, 0, 0)
            BorderStyle: =BorderStyle.None
            BorderThickness: =2
            Color: =varThemeColors.text
            DisabledBorderColor: =RGBA(0, 0, 0, 0)
            FocusedBorderColor: =varThemeColors.primary
            FocusedBorderThickness: =4
            Font: =Font.'Segoe UI'
            Height: =34
            Italic: =true
            LayoutMinHeight: =
            LayoutMinWidth: =
            Live: =Live.Assertive
            PaddingBottom: =0
            PaddingLeft: =32
            PaddingRight: =32
            PaddingTop: =0
            Role: =TextRole.Heading2
            Size: =10.5
            Text: |-
                =// Define a variable named "Text" with the value "{value}"
                With(
                    {Text: varFooterMessage},
                    If(
                        // If the localized text is blank, return the default text
                        IsBlank(
                            LookUp(
                                colUserLocalizedStrings,
                                'English Value' = Text
                            ).'Localized Value'
                        ),
                        Text,
                        // If a localized text is found, return that instead of the default text
                        LookUp(
                            colUserLocalizedStrings,
                            'English Value' = Text
                        ).'Localized Value'
                    )
                ) & If(varIsProcessing, "...")
            Visible: =!IsBlank(varFooterMessage)
            Width: =
            ZIndex: =6

    cmpVendorDetailsLeftNavigation As LeftNavigation:
        Height: =App.Height-Self.Y
        Width: =cmpVendorDetailsLeftNavigation.MenuWidth
        Y: =cmpVendorDetailsHeader.Height
        ZIndex: =3

    cmpVendorDetailsHeader As ScreenHeader:
        Width: =App.Width
        ZIndex: =4

    btnSearchExecuteVendorHiddenButton As button:
        Height: =28
        OnSelect: |
            =If(
                !IsBlank(varSelectedVendorID),
                Set(
                    varFooterMessage,
                    "Loading"
                );
                //Sets processing indicator control behavior 
            Set(
                    varIsProcessing,
                    true
                );
                //Remove any existing cached vendor data whether variables or collections
            Set(
                    varVendorHeader,
                    Blank()
                );
                Clear(colVendorRequisitions);
                Clear(colVendorPurchaseOrders);
                Clear(colVendorPurchasingOrgs);
                Clear(colVendorCompanyCodes);
                Clear(colVendorPhones);
                Clear(colVendorEmails);
                //Reset any controls that interact with existing vendor data
            Reset(chbVendorDetailsPurchasingOrgsSelectAll);
                Reset(chbVendorDetailsCompanyCodesSelectAll);
                Reset(chbVendorDetailsPhonesSelectAll);
                Reset(chbVendorDetailsEmailsSelectAll);
                Reset(txtVendorDetailsPurchasingOrgCommandBarFilter);
                Reset(txtVendorDetailsEmailsCommandBarFilter);
                Reset(txtVendorDetailsPhonesCommandBarFilter);
                Reset(txtVendorDetailsCompanyCodesCommandBarFilter);
                //Call ReadVendor Power Automate to read the vendor from SAP
            ClearCollect(
                    colReadVendorResponseTemp,//collection that temporarily stores the vendor response data
                    ReadVendor.Run(varSelectedVendorID)
                );
                //Evalute response conditions
            Switch(
                    true,
                    And(//Check to see if vendor call was successful and process happy path logic
                        First(colReadVendorResponseTemp).Status = "Success",
                        !IsBlank(First(colReadVendorResponseTemp).Header.Vendor)
                    ),
                    Set(
                        varVendorHeader,//Variable that stores the returned main vendor header data
                        First(colReadVendorResponseTemp).Header
                    );
                    /*Cache associated vendor child records. Collections are used to pass updated data back in update vendor transactions
                    Default CrudType fields to 'R'. CrudType will be changed if user changes/removes child records and used by update vendor flow*/
            UpdateIf(
                        ClearCollect(
                            colVendorEmails,//Colllection that caches associated vendor emails
                            First(colReadVendorResponseTemp).Emails
                        ),
                        true,
                        {CrudType: "R"}
                    );
                    UpdateIf(
                        ClearCollect(
                            colVendorPhones,//Collection that caches associated associated vendor phones
                            First(colReadVendorResponseTemp).Phones
                        ),
                        true,
                        {CrudType: "R"}
                    );
                    UpdateIf(
                        ClearCollect(
                            colVendorCompanyCodes,//Collection that caches associated vendor company codes
                            First(colReadVendorResponseTemp).CompanyCodes
                        ),
                        true,
                        {CrudType: "R"}
                    );
                    UpdateIf(
                        ClearCollect(
                            colVendorPurchasingOrgs,//Collection that caches associated vendor purchasing organizations
                            First(colReadVendorResponseTemp).PurchasingOrgs
                        ),
                        true,
                        {CrudType: "R"}
                    );
                    Set(
                        varSelectedVendorID,//done with selected vendor ID variable, set back to blank
                        Blank()
                    );
                    //Navigate back to vendor details screen by default
            Navigate(
                        'Vendor Details Screen',
                        ScreenTransition.None
                    );
                    //Create/update vendor search history record
            Patch(
                        'SAP Search Histories',
                        Coalesce(
                            LookUp(
                                'SAP Search Histories',
                                And(
                                    'Object ID' = varVendorHeader.Vendor,
                                    'Object Type' = 'Object Type (SAP Search Histories)'.Vendor,
                                    'Created By'.User = varSystemUserID
                                )
                            ),
                            Defaults('SAP Search Histories')
                        ),
                        {
                            'Object ID': varVendorHeader.Vendor,
                            'Object Type': 'Object Type (SAP Search Histories)'.Vendor,
                            Name: varVendorHeader.VendorName,
                            'Attribute 1': Concatenate(
                                varVendorHeader.Vendor,
                                "-",
                                varVendorHeader.VendorName
                            ),
                            'Last Searched On': Now()
                        }
                    );
                    //Check if the patch function was successful and notify if there was any errors.
            If(
                        !IsEmpty(Errors('SAP Search Histories')),
                        Notify(
                            First(Errors('SAP Search Histories')).Message,
                            NotificationType.Error,
                            0
                        ),
                        Refresh('SAP Search Histories')
                    );
                    //End if ReadVendor Power Automate call was success
            ,
                    And(//Check to see if call was successful, but no vendor was found
                        First(colReadVendorResponseTemp).Status = "Information",
                        IsBlank(First(colReadVendorResponseTemp).Header.Vendor)
                    ),
                    Notify(
                        With(
                            {Text: "Vendor not found"},
                            If(
                    // If the localized text is blank, return the default text
                                IsBlank(
                                    LookUp(
                                        colUserLocalizedStrings,
                                        'English Value' = Text
                                    ).'Localized Value'
                                ),
                                Text,
                    // If a localized text is found, return that instead of the default text
                                LookUp(
                                    colUserLocalizedStrings,
                                    'English Value' = Text
                                ).'Localized Value'
                            )
                        ),
                        NotificationType.Information,
                        7000
                    ),//Default response for an unhandled error return
                    Notify(
                        With(
                            {Text: "Unexpected error occurred"},
                            If(
                    // If the localized text is blank, return the default text
                                IsBlank(
                                    LookUp(
                                        colUserLocalizedStrings,
                                        'English Value' = Text
                                    ).'Localized Value'
                                ),
                                Text,
                    // If a localized text is found, return that instead of the default text
                                LookUp(
                                    colUserLocalizedStrings,
                                    'English Value' = Text
                                ).'Localized Value'
                            )
                        )
                        ,
                        NotificationType.Error,
                        0
                    )
                );
                Reset(conVendorDetailsMainCommandBar);
                //End vendor response switch statement
                //Reset loading to false as the data query is complete
            Set(
                    varSelectedVendorID,//done with selected vendor ID variable, set back to blank
                    Blank()
                );
               //done with read vendor temp collections, clear cache
            Clear(colReadVendorResponseTemp);
                Set(
                    varIsProcessing,//done processing read vendor, set variable back to false stopping any processing control behavior
                    false
                );
                
            );
            Set(
                varFooterMessage,
                Blank()
            );
        Text: ="Button"
        Visible: =false
        X: =1108
        Y: =6
        ZIndex: =6

